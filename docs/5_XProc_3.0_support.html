<?xml version="1.0" encoding="UTF-8"?>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container">
  
  
  
  
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="resources/bootstrap.min.css"/>
    <link rel="stylesheet" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>5 XProc 3.0 support</title>
  </head>
  <body style="padding-top: 65px;"><nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark"><a class="navbar-brand" href="index.html" title="home">xtpxlib-xdoc</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"/></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav mr-auto"><li class="nav-item dropdown"><a href="1_Description.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Description <span class="caret"/></a><div class="dropdown-menu"><a href="1_Description.html" class="dropdown-item">Description</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="1_Description.html#sect-main-toolchain">The main toolchain</a></div></li><li class="nav-item dropdown"><a href="2_Instructions.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Instructions <span class="caret"/></a><div class="dropdown-menu"><a href="2_Instructions.html" class="dropdown-item">Instructions</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="2_Instructions.html#d3702e539">Getting started</a><a class="dropdown-item" href="2_Instructions.html#d3702e575">Validation</a><a class="dropdown-item" href="2_Instructions.html#sect-parameter-substitution">Parameter substitution</a><a class="dropdown-item" href="2_Instructions.html#d3702e879">xdoc transforms</a></div></li><li class="nav-item dropdown"><a href="3_xdoc_transforms.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">xdoc transforms <span class="caret"/></a><div class="dropdown-menu"><a href="3_xdoc_transforms.html" class="dropdown-item">xdoc transforms</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="3_xdoc_transforms.html#d3702e1086">Running an xdoc transform</a><a class="dropdown-item" href="3_xdoc_transforms.html#sect-builtin-xdoc-transformations">Built-in xdoc transformations (XProc 1.0)</a><a class="dropdown-item" href="3_xdoc_transforms.html#sect-builtin-xdoc-transformations-3">Built-in xdoc transformations (XProc 3.0)</a><a class="dropdown-item" href="3_xdoc_transforms.html#sect-write-your-own-transformations">Writing your own xdoc transformations</a></div></li><li class="nav-item dropdown"><a href="4_XProc_1.0_support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 1.0 support <span class="caret"/></a><div class="dropdown-menu"><a href="4_XProc_1.0_support.html" class="dropdown-item">XProc 1.0 support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="4_XProc_1.0_support.html#docbook-to-pdf.xpl">XProc (1.0) pipeline: docbook-to-pdf.xpl</a><a class="dropdown-item" href="4_XProc_1.0_support.html#docbook-to-xhtml.xpl">XProc (1.0) pipeline: docbook-to-xhtml.xpl</a><a class="dropdown-item" href="4_XProc_1.0_support.html#xdoc-to-docbook.xpl">XProc (1.0) pipeline: xdoc-to-docbook.xpl</a><a class="dropdown-item" href="4_XProc_1.0_support.html#xdoc-to-pdf.xpl">XProc (1.0) pipeline: xdoc-to-pdf.xpl</a><a class="dropdown-item" href="4_XProc_1.0_support.html#xdoc-to-xhtml.xpl">XProc (1.0) pipeline: xdoc-to-xhtml.xpl</a><a class="dropdown-item" href="4_XProc_1.0_support.html#xtpxlib-xdoc.mod.xpl">XProc (1.0) library: xtpxlib-xdoc.mod.xpl</a></div></li><li class="nav-item dropdown"><a href="5_XProc_3.0_support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 3.0 support <span class="caret"/></a><div class="dropdown-menu"><a href="5_XProc_3.0_support.html" class="dropdown-item">XProc 3.0 support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="5_XProc_3.0_support.html#xpl3-docbook-to-pdf.xpl">XProc (3.0) pipeline: docbook-to-pdf.xpl</a><a class="dropdown-item" href="5_XProc_3.0_support.html#xpl3-docbook-to-xhtml.xpl">XProc (3.0) pipeline: docbook-to-xhtml.xpl</a><a class="dropdown-item" href="5_XProc_3.0_support.html#xpl3-xdoc-to-docbook.xpl">XProc (3.0) pipeline: xdoc-to-docbook.xpl</a><a class="dropdown-item" href="5_XProc_3.0_support.html#xpl3-xdoc-to-pdf.xpl">XProc (3.0) pipeline: xdoc-to-pdf.xpl</a><a class="dropdown-item" href="5_XProc_3.0_support.html#xpl3-xdoc-to-xhtml.xpl">XProc (3.0) pipeline: xdoc-to-xhtml.xpl</a><a class="dropdown-item" href="5_XProc_3.0_support.html#xpl3-xtpxlib-xdoc.mod.xpl">XProc (3.0) library: xtpxlib-xdoc.mod.xpl</a></div></li><li class="nav-item dropdown"><a href="6_DocBook_dialect.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">DocBook dialect <span class="caret"/></a><div class="dropdown-menu"><a href="6_DocBook_dialect.html" class="dropdown-item">DocBook dialect</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="6_DocBook_dialect.html#d3702e5041">Supported root elements</a><a class="dropdown-item" href="6_DocBook_dialect.html#sect-docbook5">Document information</a><a class="dropdown-item" href="6_DocBook_dialect.html#d3702e5091">Chapter/Section structure</a><a class="dropdown-item" href="6_DocBook_dialect.html#d3702e5139">Block constructions</a><a class="dropdown-item" href="6_DocBook_dialect.html#d3702e5770">Inline elements</a><a class="dropdown-item" href="6_DocBook_dialect.html#d3702e6442">Other constructs</a><a class="dropdown-item" href="6_DocBook_dialect.html#sect-fixed-width-column-mechanism">Fixed-width column mechanism</a></div></li><li class="nav-item"><a class="nav-link" href="resources/xtpxlib-xdoc-documentation.pdf" title="PDF version of this documentation site">PDF</a></li></ul></div></nav><div class="container"><a name="chapter-xproc-3-pipelines"><!----></a><div class="page-header" style="padding-top: 65px; margin-top: -65px;"><h1 class="chapter"><span class="chapter-number">5 </span>XProc 3.0 support</h1></div><p class="para" id="d3702e3528"><a name="d3702e3528"><!----></a>The xtpxlib-xdoc component contains the following XProc 3.0 pipelines:</p><div class="table" id="d3702e3531"><a name="d3702e3531"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e3537" class="thead-light"><tr id="d3702e3538"><th id="d3702e3539"><a name="d3702e3539"><!----></a>Module/Pipeline</th><th id="d3702e3541"><a name="d3702e3541"><!----></a>Description</th></tr></thead><tbody id="d3702e3543"><tr id="d3702e3544"><td id="d3702e3545"><a name="d3702e3545"><!----></a><a name="d3702e3546"><!----></a><code class="code code-width-limited"><a href="#xpl3-docbook-to-pdf.xpl"><span class="link">docbook-to-pdf.xpl</span></a></code></td><td id="d3702e3550"><a name="d3702e3550"><!----></a><a name="d3702e3551"><!----></a>This turns Docbook (5.1) into a PDF using FOP.</td></tr><tr id="d3702e3553"><td id="d3702e3554"><a name="d3702e3554"><!----></a><a name="d3702e3555"><!----></a><code class="code code-width-limited"><a href="#xpl3-docbook-to-xhtml.xpl"><span class="link">docbook-to-xhtml.xpl</span></a></code></td><td id="d3702e3559"><a name="d3702e3559"><!----></a><a name="d3702e3560"><!----></a>This turns Docbook (5.1) into XHTML.</td></tr><tr id="d3702e3562"><td id="d3702e3563"><a name="d3702e3563"><!----></a><a name="d3702e3564"><!----></a><code class="code code-width-limited"><a href="#xpl3-xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook.xpl</span></a></code></td><td id="d3702e3568"><a name="d3702e3568"><!----></a><a name="d3702e3569"><!----></a>XProc 3.0 pipeline that transforms a DocBook source containing <code class="code">xdoc</code> extensions into "pure" DocBook format.</td></tr><tr id="d3702e3574"><td id="d3702e3575"><a name="d3702e3575"><!----></a><a name="d3702e3576"><!----></a><code class="code code-width-limited"><a href="#xpl3-xdoc-to-pdf.xpl"><span class="link">xdoc-to-pdf.xpl</span></a></code></td><td id="d3702e3580"><a name="d3702e3580"><!----></a><a name="d3702e3581"><!----></a>Convenience pipeline: Combines the <a href="4_XProc_1.0_support.html#xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook</span></a> and the <a href="4_XProc_1.0_support.html#docbook-to-pdf.xpl"><span class="link">docbook-to-pdf</span></a> steps in one.</td></tr><tr id="d3702e3589"><td id="d3702e3590"><a name="d3702e3590"><!----></a><a name="d3702e3591"><!----></a><code class="code code-width-limited"><a href="#xpl3-xdoc-to-xhtml.xpl"><span class="link">xdoc-to-xhtml.xpl</span></a></code></td><td id="d3702e3595"><a name="d3702e3595"><!----></a><a name="d3702e3596"><!----></a>Convenience pipeline: Combines the <a href="4_XProc_1.0_support.html#xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook</span></a> and the <a href="4_XProc_1.0_support.html#docbook-to-xhtml.xpl"><span class="link">docbook-to-xhtml</span></a> steps in one.</td></tr></tbody></table></div><div class="sect1" id="xpl3-docbook-to-pdf.xpl"><a name="xpl3-docbook-to-pdf.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">5.1</span> XProc (3.0) pipeline: <code class="code">docbook-to-pdf.xpl</code></h2><p class="para keep-with-next" id="d3702e3609"><a name="d3702e3609"><!----></a>File: <code class="code">xpl3/docbook-to-pdf.xpl</code></p><p class="para" id="d3702e3613"><a name="d3702e3613"><!----></a>Type: <code class="code">xdoc:docbook-to-pdf</code></p><p class="para" id="d3702e3617"><a name="d3702e3617"><!----></a>This turns Docbook (5.1) into a PDF using FOP.</p><p class="para" id="d3702e3619"><a name="d3702e3619"><!----></a>All necessary <code class="code">xdoc</code> pre-processing (usually with <a href="4_XProc_1.0_support.html#xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook.xpl</span></a>) must have been done.</p><p class="para" id="d3702e3627"><a name="d3702e3627"><!----></a>It will only convert a <a href="6_DocBook_dialect.html#xdoc-docbook-dialect"><span class="link">partial DocBook tagset</span></a>.</p><p class="para" id="d3702e3632"><a name="d3702e3632"><!----></a>If you don't use <a href="4_XProc_1.0_support.html#xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook.xpl</span></a>, you have to make sure to get correct <code class="code">xml:base</code> attributes in, so the pipeline can find includes and images. The following XProc (1.0) code takes care of that:</p><div class="programlisting" id="d3702e3640"><a name="d3702e3640"><!----></a><pre class="programlisting">&lt;p:xinclude&gt;
  &lt;p:with-option name="fixup-xml-base" select="true()"/&gt;
&lt;/p:xinclude&gt;
&lt;p:add-attribute attribute-name="xml:base" match="/*"&gt;
  &lt;p:with-option name="attribute-value" select="/reference/to/source/document.xml"/&gt;
&lt;/p:add-attribute&gt;</pre></div><div class="table nonumber" id="d3702e3642"><a name="d3702e3642"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e3649" class="thead-light"><tr id="d3702e3650"><th id="d3702e3651"><a name="d3702e3651"><!----></a>Port</th><th id="d3702e3653"><a name="d3702e3653"><!----></a>Type</th><th id="d3702e3655"><a name="d3702e3655"><!----></a>Primary?</th><th id="d3702e3657"><a name="d3702e3657"><!----></a>Description</th></tr></thead><tbody id="d3702e3659"><tr id="d3702e3660"><td id="d3702e3661"><a name="d3702e3661"><!----></a><a name="d3702e3662"><!----></a><code class="code code-width-limited">source</code></td><td id="d3702e3665"><a name="d3702e3665"><!----></a>in</td><td id="d3702e3667"><a name="d3702e3667"><!----></a>yes</td><td id="d3702e3669"><a name="d3702e3669"><!----></a><a name="d3702e3670"><!----></a>The Docbook source document, fully expanded (with appropriate <code class="code">xml:base</code> attributes)</td></tr><tr id="d3702e3675"><td id="d3702e3676"><a name="d3702e3676"><!----></a><a name="d3702e3677"><!----></a><code class="code code-width-limited">result</code></td><td id="d3702e3680"><a name="d3702e3680"><!----></a>out</td><td id="d3702e3682"><a name="d3702e3682"><!----></a>yes</td><td id="d3702e3684"><a name="d3702e3684"><!----></a><a name="d3702e3685"><!----></a>A small report thingie</td></tr></tbody></table></div><div class="table nonumber" id="d3702e3687"><a name="d3702e3687"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e3695" class="thead-light"><tr id="d3702e3696"><th id="d3702e3697"><a name="d3702e3697"><!----></a>Option</th><th id="d3702e3699"><a name="d3702e3699"><!----></a>Type</th><th id="d3702e3701"><a name="d3702e3701"><!----></a>Rq?</th><th id="d3702e3703"><a name="d3702e3703"><!----></a>Default</th><th id="d3702e3705"><a name="d3702e3705"><!----></a>Description</th></tr></thead><tbody id="d3702e3707"><tr id="d3702e3708"><td id="d3702e3709"><a name="d3702e3709"><!----></a><a name="d3702e3710"><!----></a><code class="code code-width-limited">chapter-id</code></td><td id="d3702e3713"><a name="d3702e3713"><!----></a><a name="d3702e3714"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e3717"><a name="d3702e3717"><!----></a><a name="d3702e3718"><!----></a> </td><td id="d3702e3720"><a name="d3702e3720"><!----></a><a name="d3702e3721"><!----></a><code class="code code-width-limited">''</code></td><td id="d3702e3724"><a name="d3702e3724"><!----></a><a name="d3702e3725"><!----></a>Specific chapter identifier to output.</td></tr><tr id="d3702e3727"><td id="d3702e3728"><a name="d3702e3728"><!----></a><a name="d3702e3729"><!----></a><code class="code code-width-limited">create-pdf</code></td><td id="d3702e3732"><a name="d3702e3732"><!----></a><a name="d3702e3733"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e3736"><a name="d3702e3736"><!----></a><a name="d3702e3737"><!----></a> </td><td id="d3702e3739"><a name="d3702e3739"><!----></a><a name="d3702e3740"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e3743"><a name="d3702e3743"><!----></a><a name="d3702e3744"><!----></a>Whether to actually create the PDF.</td></tr><tr id="d3702e3746"><td id="d3702e3747"><a name="d3702e3747"><!----></a><a name="d3702e3748"><!----></a><code class="code code-width-limited">fop-config</code></td><td id="d3702e3751"><a name="d3702e3751"><!----></a><a name="d3702e3752"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e3755"><a name="d3702e3755"><!----></a><a name="d3702e3756"><!----></a> </td><td id="d3702e3758"><a name="d3702e3758"><!----></a><a name="d3702e3759"><!----></a><code class="code code-width-limited">resolve-uri('../../xtpxlib-common/data/fop-default-config.xml', static-base-uri())</code></td><td id="d3702e3762"><a name="d3702e3762"><!----></a><a name="d3702e3763"><!----></a>Reference to the FOP configuration file</td></tr><tr id="d3702e3765"><td id="d3702e3766"><a name="d3702e3766"><!----></a><a name="d3702e3767"><!----></a><code class="code code-width-limited">global-resources-directory</code></td><td id="d3702e3770"><a name="d3702e3770"><!----></a><a name="d3702e3771"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e3774"><a name="d3702e3774"><!----></a><a name="d3702e3775"><!----></a> </td><td id="d3702e3777"><a name="d3702e3777"><!----></a><a name="d3702e3778"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e3781"><a name="d3702e3781"><!----></a><a name="d3702e3782"><!----></a>Images that are tagged as <code class="code">role="global"</code> are searched here (discarding any directory information in the image's URI)</td></tr><tr id="d3702e3787"><td id="d3702e3788"><a name="d3702e3788"><!----></a><a name="d3702e3789"><!----></a><code class="code code-width-limited">href-pdf</code></td><td id="d3702e3792"><a name="d3702e3792"><!----></a><a name="d3702e3793"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e3796"><a name="d3702e3796"><!----></a><a name="d3702e3797"><!----></a>yes</td><td id="d3702e3799"><a name="d3702e3799"><!----></a><a name="d3702e3800"><!----></a><code class="code code-width-limited"/></td><td id="d3702e3802"><a name="d3702e3802"><!----></a><a name="d3702e3803"><!----></a>The name of the resulting PDF file, as a URI (an absolute path must have <code class="code">file://</code> in front).</td></tr><tr id="d3702e3808"><td id="d3702e3809"><a name="d3702e3809"><!----></a><a name="d3702e3810"><!----></a><code class="code code-width-limited">href-xsl-fo</code></td><td id="d3702e3813"><a name="d3702e3813"><!----></a><a name="d3702e3814"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e3817"><a name="d3702e3817"><!----></a><a name="d3702e3818"><!----></a> </td><td id="d3702e3820"><a name="d3702e3820"><!----></a><a name="d3702e3821"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e3824"><a name="d3702e3824"><!----></a><a name="d3702e3825"><!----></a>If set, writes the intermediate XSL-FO to this href (so you can inspect it when things go wrong in FOP)</td></tr><tr id="d3702e3827"><td id="d3702e3828"><a name="d3702e3828"><!----></a><a name="d3702e3829"><!----></a><code class="code code-width-limited">main-font-size</code></td><td id="d3702e3832"><a name="d3702e3832"><!----></a><a name="d3702e3833"><!----></a><code class="code code-width-limited">xs:integer</code></td><td id="d3702e3836"><a name="d3702e3836"><!----></a><a name="d3702e3837"><!----></a> </td><td id="d3702e3839"><a name="d3702e3839"><!----></a><a name="d3702e3840"><!----></a><code class="code code-width-limited">10</code></td><td id="d3702e3843"><a name="d3702e3843"><!----></a><a name="d3702e3844"><!----></a>Main font size as an integer. Usual values somewhere between 8 and 10.</td></tr><tr id="d3702e3846"><td id="d3702e3847"><a name="d3702e3847"><!----></a><a name="d3702e3848"><!----></a><code class="code code-width-limited">output-type</code></td><td id="d3702e3851"><a name="d3702e3851"><!----></a><a name="d3702e3852"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e3855"><a name="d3702e3855"><!----></a><a name="d3702e3856"><!----></a> </td><td id="d3702e3858"><a name="d3702e3858"><!----></a><a name="d3702e3859"><!----></a><code class="code code-width-limited">'a4'</code></td><td id="d3702e3862"><a name="d3702e3862"><!----></a><a name="d3702e3863"><!----></a>Output type. Use either <code class="code">a4</code> or <code class="code">sb</code> (= standard book size)</td></tr><tr id="d3702e3871"><td id="d3702e3872"><a name="d3702e3872"><!----></a><a name="d3702e3873"><!----></a><code class="code code-width-limited">preliminary-version</code></td><td id="d3702e3876"><a name="d3702e3876"><!----></a><a name="d3702e3877"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e3880"><a name="d3702e3880"><!----></a><a name="d3702e3881"><!----></a> </td><td id="d3702e3883"><a name="d3702e3883"><!----></a><a name="d3702e3884"><!----></a><code class="code code-width-limited">false()</code></td><td id="d3702e3887"><a name="d3702e3887"><!----></a><a name="d3702e3888"><!----></a>If <code class="code">true</code>, adds a preliminary version marker and output any <code class="code">db:remark</code> elements. If <code class="code">false</code>, output of <code class="code">db:remark</code> elements will be suppressed.</td></tr></tbody></table></div></div><div class="sect1" id="xpl3-docbook-to-xhtml.xpl"><a name="xpl3-docbook-to-xhtml.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">5.2</span> XProc (3.0) pipeline: <code class="code">docbook-to-xhtml.xpl</code></h2><p class="para keep-with-next" id="d3702e3907"><a name="d3702e3907"><!----></a>File: <code class="code">xpl3/docbook-to-xhtml.xpl</code></p><p class="para" id="d3702e3911"><a name="d3702e3911"><!----></a>Type: <code class="code">xdoc:docbook-to-xhtml</code></p><p class="para" id="d3702e3915"><a name="d3702e3915"><!----></a>This turns Docbook (5.1) into XHTML.</p><p class="para" id="d3702e3917"><a name="d3702e3917"><!----></a>All necessary <code class="code">xdoc</code> pre-processing (usually with <a href="4_XProc_1.0_support.html#xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook.xpl</span></a>) must have been done.</p><p class="para" id="d3702e3925"><a name="d3702e3925"><!----></a>It will only convert a <a href="6_DocBook_dialect.html#xdoc-docbook-dialect"><span class="link">partial DocBook tagset</span></a>.</p><p class="para" id="d3702e3930"><a name="d3702e3930"><!----></a>The resulting XHTML will not be directly useable, post-processing the result into a complete and correct HTML page is necessary. The result of this pipeline consists of nested <code class="code">div</code> elements. There is no surrounding <code class="code">html</code> or <code class="code">body</code> element.</p><div class="table nonumber" id="d3702e3941"><a name="d3702e3941"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e3948" class="thead-light"><tr id="d3702e3949"><th id="d3702e3950"><a name="d3702e3950"><!----></a>Port</th><th id="d3702e3952"><a name="d3702e3952"><!----></a>Type</th><th id="d3702e3954"><a name="d3702e3954"><!----></a>Primary?</th><th id="d3702e3956"><a name="d3702e3956"><!----></a>Description</th></tr></thead><tbody id="d3702e3958"><tr id="d3702e3959"><td id="d3702e3960"><a name="d3702e3960"><!----></a><a name="d3702e3961"><!----></a><code class="code code-width-limited">source</code></td><td id="d3702e3964"><a name="d3702e3964"><!----></a>in</td><td id="d3702e3966"><a name="d3702e3966"><!----></a>yes</td><td id="d3702e3968"><a name="d3702e3968"><!----></a><a name="d3702e3969"><!----></a>The docbook source document.</td></tr><tr id="d3702e3971"><td id="d3702e3972"><a name="d3702e3972"><!----></a><a name="d3702e3973"><!----></a><code class="code code-width-limited">result</code></td><td id="d3702e3976"><a name="d3702e3976"><!----></a>out</td><td id="d3702e3978"><a name="d3702e3978"><!----></a>yes</td><td id="d3702e3980"><a name="d3702e3980"><!----></a><a name="d3702e3981"><!----></a>The resulting XHTML</td></tr></tbody></table></div><div class="table nonumber" id="d3702e3983"><a name="d3702e3983"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e3991" class="thead-light"><tr id="d3702e3992"><th id="d3702e3993"><a name="d3702e3993"><!----></a>Option</th><th id="d3702e3995"><a name="d3702e3995"><!----></a>Type</th><th id="d3702e3997"><a name="d3702e3997"><!----></a>Rq?</th><th id="d3702e3999"><a name="d3702e3999"><!----></a>Default</th><th id="d3702e4001"><a name="d3702e4001"><!----></a>Description</th></tr></thead><tbody id="d3702e4003"><tr id="d3702e4004"><td id="d3702e4005"><a name="d3702e4005"><!----></a><a name="d3702e4006"><!----></a><code class="code code-width-limited">add-identifiers</code></td><td id="d3702e4009"><a name="d3702e4009"><!----></a><a name="d3702e4010"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e4013"><a name="d3702e4013"><!----></a><a name="d3702e4014"><!----></a> </td><td id="d3702e4016"><a name="d3702e4016"><!----></a><a name="d3702e4017"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e4020"><a name="d3702e4020"><!----></a><a name="d3702e4021"><!----></a>Add identifiers to elements when no @xml:id is present.</td></tr><tr id="d3702e4023"><td id="d3702e4024"><a name="d3702e4024"><!----></a><a name="d3702e4025"><!----></a><code class="code code-width-limited">add-numbering</code></td><td id="d3702e4028"><a name="d3702e4028"><!----></a><a name="d3702e4029"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e4032"><a name="d3702e4032"><!----></a><a name="d3702e4033"><!----></a> </td><td id="d3702e4035"><a name="d3702e4035"><!----></a><a name="d3702e4036"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e4039"><a name="d3702e4039"><!----></a><a name="d3702e4040"><!----></a>Add numbering to sections, tables, examples, etc.</td></tr><tr id="d3702e4042"><td id="d3702e4043"><a name="d3702e4043"><!----></a><a name="d3702e4044"><!----></a><code class="code code-width-limited">add-roles-as-classes</code></td><td id="d3702e4047"><a name="d3702e4047"><!----></a><a name="d3702e4048"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e4051"><a name="d3702e4051"><!----></a><a name="d3702e4052"><!----></a> </td><td id="d3702e4054"><a name="d3702e4054"><!----></a><a name="d3702e4055"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e4058"><a name="d3702e4058"><!----></a><a name="d3702e4059"><!----></a>Add any roles as classes to the end result.</td></tr><tr id="d3702e4061"><td id="d3702e4062"><a name="d3702e4062"><!----></a><a name="d3702e4063"><!----></a><code class="code code-width-limited">create-header</code></td><td id="d3702e4066"><a name="d3702e4066"><!----></a><a name="d3702e4067"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e4070"><a name="d3702e4070"><!----></a><a name="d3702e4071"><!----></a> </td><td id="d3702e4073"><a name="d3702e4073"><!----></a><a name="d3702e4074"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e4077"><a name="d3702e4077"><!----></a><a name="d3702e4078"><!----></a>Create some header construct</td></tr></tbody></table></div></div><div class="sect1" id="xpl3-xdoc-to-docbook.xpl"><a name="xpl3-xdoc-to-docbook.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">5.3</span> XProc (3.0) pipeline: <code class="code">xdoc-to-docbook.xpl</code></h2><p class="para keep-with-next" id="d3702e4085"><a name="d3702e4085"><!----></a>File: <code class="code">xpl3/xdoc-to-docbook.xpl</code></p><p class="para" id="d3702e4089"><a name="d3702e4089"><!----></a>Type: <code class="code">xdoc:xdoc-to-docbook</code></p><p class="para" id="d3702e4093"><a name="d3702e4093"><!----></a>XProc 3.0 pipeline that transforms a DocBook source containing <code class="code">xdoc</code> extensions into "pure" DocBook format.</p><div class="table nonumber" id="d3702e4098"><a name="d3702e4098"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e4105" class="thead-light"><tr id="d3702e4106"><th id="d3702e4107"><a name="d3702e4107"><!----></a>Port</th><th id="d3702e4109"><a name="d3702e4109"><!----></a>Type</th><th id="d3702e4111"><a name="d3702e4111"><!----></a>Primary?</th><th id="d3702e4113"><a name="d3702e4113"><!----></a>Description</th></tr></thead><tbody id="d3702e4115"><tr id="d3702e4116"><td id="d3702e4117"><a name="d3702e4117"><!----></a><a name="d3702e4118"><!----></a><code class="code code-width-limited">source</code></td><td id="d3702e4121"><a name="d3702e4121"><!----></a>in</td><td id="d3702e4123"><a name="d3702e4123"><!----></a>yes</td><td id="d3702e4125"><a name="d3702e4125"><!----></a><a name="d3702e4126"><!----></a>The DocBook source with <code class="code">xdoc</code> extensions</td></tr><tr id="d3702e4131"><td id="d3702e4132"><a name="d3702e4132"><!----></a><a name="d3702e4133"><!----></a><code class="code code-width-limited">result</code></td><td id="d3702e4136"><a name="d3702e4136"><!----></a>out</td><td id="d3702e4138"><a name="d3702e4138"><!----></a>yes</td><td id="d3702e4140"><a name="d3702e4140"><!----></a><a name="d3702e4141"><!----></a>The resulting DocBook.</td></tr></tbody></table></div><div class="table nonumber" id="d3702e4143"><a name="d3702e4143"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e4151" class="thead-light"><tr id="d3702e4152"><th id="d3702e4153"><a name="d3702e4153"><!----></a>Option</th><th id="d3702e4155"><a name="d3702e4155"><!----></a>Type</th><th id="d3702e4157"><a name="d3702e4157"><!----></a>Rq?</th><th id="d3702e4159"><a name="d3702e4159"><!----></a>Default</th><th id="d3702e4161"><a name="d3702e4161"><!----></a>Description</th></tr></thead><tbody id="d3702e4163"><tr id="d3702e4164"><td id="d3702e4165"><a name="d3702e4165"><!----></a><a name="d3702e4166"><!----></a><code class="code code-width-limited">alttarget</code></td><td id="d3702e4169"><a name="d3702e4169"><!----></a><a name="d3702e4170"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e4173"><a name="d3702e4173"><!----></a><a name="d3702e4174"><!----></a> </td><td id="d3702e4176"><a name="d3702e4176"><!----></a><a name="d3702e4177"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e4180"><a name="d3702e4180"><!----></a><a name="d3702e4181"><!----></a>The target for applying alternate settings.</td></tr><tr id="d3702e4183"><td id="d3702e4184"><a name="d3702e4184"><!----></a><a name="d3702e4185"><!----></a><code class="code code-width-limited">href-parameters</code></td><td id="d3702e4188"><a name="d3702e4188"><!----></a><a name="d3702e4189"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e4192"><a name="d3702e4192"><!----></a><a name="d3702e4193"><!----></a> </td><td id="d3702e4195"><a name="d3702e4195"><!----></a><a name="d3702e4196"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e4199"><a name="d3702e4199"><!----></a><a name="d3702e4200"><!----></a>Optional reference to a document with parameter settings. See <a href="https://common.xtpxlib.org/1_Description.html#parameters-explanation"><span class="link">here</span></a> for details.</td></tr><tr id="d3702e4205"><td id="d3702e4206"><a name="d3702e4206"><!----></a><a name="d3702e4207"><!----></a><code class="code code-width-limited">parameter-filters-map</code></td><td id="d3702e4210"><a name="d3702e4210"><!----></a><a name="d3702e4211"><!----></a><code class="code code-width-limited">map(xs:string, xs:string)</code></td><td id="d3702e4214"><a name="d3702e4214"><!----></a><a name="d3702e4215"><!----></a> </td><td id="d3702e4217"><a name="d3702e4217"><!----></a><a name="d3702e4218"><!----></a><code class="code code-width-limited">map{}</code></td><td id="d3702e4221"><a name="d3702e4221"><!----></a><a name="d3702e4222"><!----></a>Optional filter settings for processing the parameters.</td></tr></tbody></table></div></div><div class="sect1" id="xpl3-xdoc-to-pdf.xpl"><a name="xpl3-xdoc-to-pdf.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">5.4</span> XProc (3.0) pipeline: <code class="code">xdoc-to-pdf.xpl</code></h2><p class="para keep-with-next" id="d3702e4229"><a name="d3702e4229"><!----></a>File: <code class="code">xpl3/xdoc-to-pdf.xpl</code></p><p class="para" id="d3702e4233"><a name="d3702e4233"><!----></a>Type: <code class="code">xdoc:xdoc-to-pdf</code></p><p class="para" id="d3702e4237"><a name="d3702e4237"><!----></a>Convenience pipeline: Combines the <a href="4_XProc_1.0_support.html#xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook</span></a> and the <a href="4_XProc_1.0_support.html#docbook-to-pdf.xpl"><span class="link">docbook-to-pdf</span></a> steps in one.</p><div class="table nonumber" id="d3702e4245"><a name="d3702e4245"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e4252" class="thead-light"><tr id="d3702e4253"><th id="d3702e4254"><a name="d3702e4254"><!----></a>Port</th><th id="d3702e4256"><a name="d3702e4256"><!----></a>Type</th><th id="d3702e4258"><a name="d3702e4258"><!----></a>Primary?</th><th id="d3702e4260"><a name="d3702e4260"><!----></a>Description</th></tr></thead><tbody id="d3702e4262"><tr id="d3702e4263"><td id="d3702e4264"><a name="d3702e4264"><!----></a><a name="d3702e4265"><!----></a><code class="code code-width-limited">source</code></td><td id="d3702e4268"><a name="d3702e4268"><!----></a>in</td><td id="d3702e4270"><a name="d3702e4270"><!----></a>yes</td><td id="d3702e4272"><a name="d3702e4272"><!----></a><a name="d3702e4273"><!----></a>The Docbook source, with option al <code class="code">xdoc</code> extensions.</td></tr><tr id="d3702e4278"><td id="d3702e4279"><a name="d3702e4279"><!----></a><a name="d3702e4280"><!----></a><code class="code code-width-limited">result</code></td><td id="d3702e4283"><a name="d3702e4283"><!----></a>out</td><td id="d3702e4285"><a name="d3702e4285"><!----></a>yes</td><td id="d3702e4287"><a name="d3702e4287"><!----></a><a name="d3702e4288"><!----></a>A small report thingie</td></tr></tbody></table></div><div class="table nonumber" id="d3702e4290"><a name="d3702e4290"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e4298" class="thead-light"><tr id="d3702e4299"><th id="d3702e4300"><a name="d3702e4300"><!----></a>Option</th><th id="d3702e4302"><a name="d3702e4302"><!----></a>Type</th><th id="d3702e4304"><a name="d3702e4304"><!----></a>Rq?</th><th id="d3702e4306"><a name="d3702e4306"><!----></a>Default</th><th id="d3702e4308"><a name="d3702e4308"><!----></a>Description</th></tr></thead><tbody id="d3702e4310"><tr id="d3702e4311"><td id="d3702e4312"><a name="d3702e4312"><!----></a><a name="d3702e4313"><!----></a><code class="code code-width-limited">alttarget</code></td><td id="d3702e4316"><a name="d3702e4316"><!----></a><a name="d3702e4317"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e4320"><a name="d3702e4320"><!----></a><a name="d3702e4321"><!----></a> </td><td id="d3702e4323"><a name="d3702e4323"><!----></a><a name="d3702e4324"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e4327"><a name="d3702e4327"><!----></a><a name="d3702e4328"><!----></a>The target for applying alternate settings.</td></tr><tr id="d3702e4330"><td id="d3702e4331"><a name="d3702e4331"><!----></a><a name="d3702e4332"><!----></a><code class="code code-width-limited">chapter-id</code></td><td id="d3702e4335"><a name="d3702e4335"><!----></a><a name="d3702e4336"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e4339"><a name="d3702e4339"><!----></a><a name="d3702e4340"><!----></a> </td><td id="d3702e4342"><a name="d3702e4342"><!----></a><a name="d3702e4343"><!----></a><code class="code code-width-limited">''</code></td><td id="d3702e4346"><a name="d3702e4346"><!----></a><a name="d3702e4347"><!----></a>Specific chapter identifier to output.</td></tr><tr id="d3702e4349"><td id="d3702e4350"><a name="d3702e4350"><!----></a><a name="d3702e4351"><!----></a><code class="code code-width-limited">create-pdf</code></td><td id="d3702e4354"><a name="d3702e4354"><!----></a><a name="d3702e4355"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e4358"><a name="d3702e4358"><!----></a><a name="d3702e4359"><!----></a> </td><td id="d3702e4361"><a name="d3702e4361"><!----></a><a name="d3702e4362"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e4365"><a name="d3702e4365"><!----></a><a name="d3702e4366"><!----></a>Whether to actually create the PDF.</td></tr><tr id="d3702e4368"><td id="d3702e4369"><a name="d3702e4369"><!----></a><a name="d3702e4370"><!----></a><code class="code code-width-limited">fop-config</code></td><td id="d3702e4373"><a name="d3702e4373"><!----></a><a name="d3702e4374"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e4377"><a name="d3702e4377"><!----></a><a name="d3702e4378"><!----></a> </td><td id="d3702e4380"><a name="d3702e4380"><!----></a><a name="d3702e4381"><!----></a><code class="code code-width-limited">resolve-uri('../../xtpxlib-common/data/fop-default-config.xml', static-base-uri())</code></td><td id="d3702e4384"><a name="d3702e4384"><!----></a><a name="d3702e4385"><!----></a>Reference to the FOP configuration file</td></tr><tr id="d3702e4387"><td id="d3702e4388"><a name="d3702e4388"><!----></a><a name="d3702e4389"><!----></a><code class="code code-width-limited">global-resources-directory</code></td><td id="d3702e4392"><a name="d3702e4392"><!----></a><a name="d3702e4393"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e4396"><a name="d3702e4396"><!----></a><a name="d3702e4397"><!----></a> </td><td id="d3702e4399"><a name="d3702e4399"><!----></a><a name="d3702e4400"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e4403"><a name="d3702e4403"><!----></a><a name="d3702e4404"><!----></a>Images that are tagged as <code class="code">role="global"</code> are searched here (discarding any directory information in the image's URI)</td></tr><tr id="d3702e4409"><td id="d3702e4410"><a name="d3702e4410"><!----></a><a name="d3702e4411"><!----></a><code class="code code-width-limited">href-docbook</code></td><td id="d3702e4414"><a name="d3702e4414"><!----></a><a name="d3702e4415"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e4418"><a name="d3702e4418"><!----></a><a name="d3702e4419"><!----></a> </td><td id="d3702e4421"><a name="d3702e4421"><!----></a><a name="d3702e4422"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e4425"><a name="d3702e4425"><!----></a><a name="d3702e4426"><!----></a>If set, writes the intermediate full DocBook to this href (so you can inspect it when things go wrong)</td></tr><tr id="d3702e4428"><td id="d3702e4429"><a name="d3702e4429"><!----></a><a name="d3702e4430"><!----></a><code class="code code-width-limited">href-parameters</code></td><td id="d3702e4433"><a name="d3702e4433"><!----></a><a name="d3702e4434"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e4437"><a name="d3702e4437"><!----></a><a name="d3702e4438"><!----></a> </td><td id="d3702e4440"><a name="d3702e4440"><!----></a><a name="d3702e4441"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e4444"><a name="d3702e4444"><!----></a><a name="d3702e4445"><!----></a>Optional reference to a document with parameter settings. See <a href="https://common.xtpxlib.org/1_Description.html#parameters-explanation"><span class="link">here</span></a> for details.</td></tr><tr id="d3702e4450"><td id="d3702e4451"><a name="d3702e4451"><!----></a><a name="d3702e4452"><!----></a><code class="code code-width-limited">href-pdf</code></td><td id="d3702e4455"><a name="d3702e4455"><!----></a><a name="d3702e4456"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e4459"><a name="d3702e4459"><!----></a><a name="d3702e4460"><!----></a>yes</td><td id="d3702e4462"><a name="d3702e4462"><!----></a><a name="d3702e4463"><!----></a><code class="code code-width-limited"/></td><td id="d3702e4465"><a name="d3702e4465"><!----></a><a name="d3702e4466"><!----></a>The name of the resulting PDF file, as a URI (an absolute path must have <code class="code">file://</code> in front).</td></tr><tr id="d3702e4471"><td id="d3702e4472"><a name="d3702e4472"><!----></a><a name="d3702e4473"><!----></a><code class="code code-width-limited">href-xsl-fo</code></td><td id="d3702e4476"><a name="d3702e4476"><!----></a><a name="d3702e4477"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e4480"><a name="d3702e4480"><!----></a><a name="d3702e4481"><!----></a> </td><td id="d3702e4483"><a name="d3702e4483"><!----></a><a name="d3702e4484"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e4487"><a name="d3702e4487"><!----></a><a name="d3702e4488"><!----></a>If set, writes the intermediate XSL-FO to this href (so you can inspect it when things go wrong in FOP)</td></tr><tr id="d3702e4490"><td id="d3702e4491"><a name="d3702e4491"><!----></a><a name="d3702e4492"><!----></a><code class="code code-width-limited">main-font-size</code></td><td id="d3702e4495"><a name="d3702e4495"><!----></a><a name="d3702e4496"><!----></a><code class="code code-width-limited">xs:integer</code></td><td id="d3702e4499"><a name="d3702e4499"><!----></a><a name="d3702e4500"><!----></a> </td><td id="d3702e4502"><a name="d3702e4502"><!----></a><a name="d3702e4503"><!----></a><code class="code code-width-limited">10</code></td><td id="d3702e4506"><a name="d3702e4506"><!----></a><a name="d3702e4507"><!----></a>Main font size as an integer. Usual values somewhere between 8 and 10.</td></tr><tr id="d3702e4509"><td id="d3702e4510"><a name="d3702e4510"><!----></a><a name="d3702e4511"><!----></a><code class="code code-width-limited">output-type</code></td><td id="d3702e4514"><a name="d3702e4514"><!----></a><a name="d3702e4515"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e4518"><a name="d3702e4518"><!----></a><a name="d3702e4519"><!----></a> </td><td id="d3702e4521"><a name="d3702e4521"><!----></a><a name="d3702e4522"><!----></a><code class="code code-width-limited">'a4'</code></td><td id="d3702e4525"><a name="d3702e4525"><!----></a><a name="d3702e4526"><!----></a>Output type. Use either <code class="code">a4</code> or <code class="code">sb</code> (= standard book size)</td></tr><tr id="d3702e4535"><td id="d3702e4536"><a name="d3702e4536"><!----></a><a name="d3702e4537"><!----></a><code class="code code-width-limited">parameter-filters-map</code></td><td id="d3702e4540"><a name="d3702e4540"><!----></a><a name="d3702e4541"><!----></a><code class="code code-width-limited">map(xs:string, xs:string)</code></td><td id="d3702e4544"><a name="d3702e4544"><!----></a><a name="d3702e4545"><!----></a> </td><td id="d3702e4547"><a name="d3702e4547"><!----></a><a name="d3702e4548"><!----></a><code class="code code-width-limited">map{}</code></td><td id="d3702e4551"><a name="d3702e4551"><!----></a><a name="d3702e4552"><!----></a>Optional filter settings for processing the parameters.</td></tr><tr id="d3702e4554"><td id="d3702e4555"><a name="d3702e4555"><!----></a><a name="d3702e4556"><!----></a><code class="code code-width-limited">preliminary-version</code></td><td id="d3702e4559"><a name="d3702e4559"><!----></a><a name="d3702e4560"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e4563"><a name="d3702e4563"><!----></a><a name="d3702e4564"><!----></a> </td><td id="d3702e4566"><a name="d3702e4566"><!----></a><a name="d3702e4567"><!----></a><code class="code code-width-limited">false()</code></td><td id="d3702e4570"><a name="d3702e4570"><!----></a><a name="d3702e4571"><!----></a>If <code class="code">true</code>, adds a preliminary version marker and output any <code class="code">db:remark</code> elements. If <code class="code">false</code>, output of <code class="code">db:remark</code> elements will be suppressed.</td></tr></tbody></table></div></div><div class="sect1" id="xpl3-xdoc-to-xhtml.xpl"><a name="xpl3-xdoc-to-xhtml.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">5.5</span> XProc (3.0) pipeline: <code class="code">xdoc-to-xhtml.xpl</code></h2><p class="para keep-with-next" id="d3702e4590"><a name="d3702e4590"><!----></a>File: <code class="code">xpl3/xdoc-to-xhtml.xpl</code></p><p class="para" id="d3702e4594"><a name="d3702e4594"><!----></a>Type: <code class="code">xdoc:xdoc-to-xhtml</code></p><p class="para" id="d3702e4598"><a name="d3702e4598"><!----></a>Convenience pipeline: Combines the <a href="4_XProc_1.0_support.html#xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook</span></a> and the <a href="4_XProc_1.0_support.html#docbook-to-xhtml.xpl"><span class="link">docbook-to-xhtml</span></a> steps in one.</p><div class="table nonumber" id="d3702e4606"><a name="d3702e4606"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e4613" class="thead-light"><tr id="d3702e4614"><th id="d3702e4615"><a name="d3702e4615"><!----></a>Port</th><th id="d3702e4617"><a name="d3702e4617"><!----></a>Type</th><th id="d3702e4619"><a name="d3702e4619"><!----></a>Primary?</th><th id="d3702e4621"><a name="d3702e4621"><!----></a>Description</th></tr></thead><tbody id="d3702e4623"><tr id="d3702e4624"><td id="d3702e4625"><a name="d3702e4625"><!----></a><a name="d3702e4626"><!----></a><code class="code code-width-limited">source</code></td><td id="d3702e4629"><a name="d3702e4629"><!----></a>in</td><td id="d3702e4631"><a name="d3702e4631"><!----></a>yes</td><td id="d3702e4633"><a name="d3702e4633"><!----></a><a name="d3702e4634"><!----></a>The Docbook source, with option al <code class="code">xdoc</code> extensions.</td></tr><tr id="d3702e4639"><td id="d3702e4640"><a name="d3702e4640"><!----></a><a name="d3702e4641"><!----></a><code class="code code-width-limited">result</code></td><td id="d3702e4644"><a name="d3702e4644"><!----></a>out</td><td id="d3702e4646"><a name="d3702e4646"><!----></a>yes</td><td id="d3702e4648"><a name="d3702e4648"><!----></a><a name="d3702e4649"><!----></a>The resulting XHTML.</td></tr></tbody></table></div><div class="table nonumber" id="d3702e4651"><a name="d3702e4651"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e4659" class="thead-light"><tr id="d3702e4660"><th id="d3702e4661"><a name="d3702e4661"><!----></a>Option</th><th id="d3702e4663"><a name="d3702e4663"><!----></a>Type</th><th id="d3702e4665"><a name="d3702e4665"><!----></a>Rq?</th><th id="d3702e4667"><a name="d3702e4667"><!----></a>Default</th><th id="d3702e4669"><a name="d3702e4669"><!----></a>Description</th></tr></thead><tbody id="d3702e4671"><tr id="d3702e4672"><td id="d3702e4673"><a name="d3702e4673"><!----></a><a name="d3702e4674"><!----></a><code class="code code-width-limited">add-identifiers</code></td><td id="d3702e4677"><a name="d3702e4677"><!----></a><a name="d3702e4678"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e4681"><a name="d3702e4681"><!----></a><a name="d3702e4682"><!----></a> </td><td id="d3702e4684"><a name="d3702e4684"><!----></a><a name="d3702e4685"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e4688"><a name="d3702e4688"><!----></a><a name="d3702e4689"><!----></a>Add identifiers to elements when no @xml:id is present.</td></tr><tr id="d3702e4691"><td id="d3702e4692"><a name="d3702e4692"><!----></a><a name="d3702e4693"><!----></a><code class="code code-width-limited">add-numbering</code></td><td id="d3702e4696"><a name="d3702e4696"><!----></a><a name="d3702e4697"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e4700"><a name="d3702e4700"><!----></a><a name="d3702e4701"><!----></a> </td><td id="d3702e4703"><a name="d3702e4703"><!----></a><a name="d3702e4704"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e4707"><a name="d3702e4707"><!----></a><a name="d3702e4708"><!----></a>Add numbering to sections, tables, examples, etc.</td></tr><tr id="d3702e4710"><td id="d3702e4711"><a name="d3702e4711"><!----></a><a name="d3702e4712"><!----></a><code class="code code-width-limited">add-roles-as-classes</code></td><td id="d3702e4715"><a name="d3702e4715"><!----></a><a name="d3702e4716"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e4719"><a name="d3702e4719"><!----></a><a name="d3702e4720"><!----></a> </td><td id="d3702e4722"><a name="d3702e4722"><!----></a><a name="d3702e4723"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e4726"><a name="d3702e4726"><!----></a><a name="d3702e4727"><!----></a>Add any roles as classes to the end result.</td></tr><tr id="d3702e4729"><td id="d3702e4730"><a name="d3702e4730"><!----></a><a name="d3702e4731"><!----></a><code class="code code-width-limited">alttarget</code></td><td id="d3702e4734"><a name="d3702e4734"><!----></a><a name="d3702e4735"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e4738"><a name="d3702e4738"><!----></a><a name="d3702e4739"><!----></a> </td><td id="d3702e4741"><a name="d3702e4741"><!----></a><a name="d3702e4742"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e4745"><a name="d3702e4745"><!----></a><a name="d3702e4746"><!----></a>The target for applying alternate settings.</td></tr><tr id="d3702e4748"><td id="d3702e4749"><a name="d3702e4749"><!----></a><a name="d3702e4750"><!----></a><code class="code code-width-limited">create-header</code></td><td id="d3702e4753"><a name="d3702e4753"><!----></a><a name="d3702e4754"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e4757"><a name="d3702e4757"><!----></a><a name="d3702e4758"><!----></a> </td><td id="d3702e4760"><a name="d3702e4760"><!----></a><a name="d3702e4761"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e4764"><a name="d3702e4764"><!----></a><a name="d3702e4765"><!----></a>Create some header construct</td></tr><tr id="d3702e4767"><td id="d3702e4768"><a name="d3702e4768"><!----></a><a name="d3702e4769"><!----></a><code class="code code-width-limited">href-docbook</code></td><td id="d3702e4772"><a name="d3702e4772"><!----></a><a name="d3702e4773"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e4776"><a name="d3702e4776"><!----></a><a name="d3702e4777"><!----></a> </td><td id="d3702e4779"><a name="d3702e4779"><!----></a><a name="d3702e4780"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e4783"><a name="d3702e4783"><!----></a><a name="d3702e4784"><!----></a>If set, writes the intermediate full DocBook to this href (so you can inspect it when things go wrong)</td></tr><tr id="d3702e4786"><td id="d3702e4787"><a name="d3702e4787"><!----></a><a name="d3702e4788"><!----></a><code class="code code-width-limited">href-parameters</code></td><td id="d3702e4791"><a name="d3702e4791"><!----></a><a name="d3702e4792"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e4795"><a name="d3702e4795"><!----></a><a name="d3702e4796"><!----></a> </td><td id="d3702e4798"><a name="d3702e4798"><!----></a><a name="d3702e4799"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e4802"><a name="d3702e4802"><!----></a><a name="d3702e4803"><!----></a>Optional reference to a document with parameter settings. See <a href="https://common.xtpxlib.org/1_Description.html#parameters-explanation"><span class="link">here</span></a> for details.</td></tr><tr id="d3702e4808"><td id="d3702e4809"><a name="d3702e4809"><!----></a><a name="d3702e4810"><!----></a><code class="code code-width-limited">parameter-filters-map</code></td><td id="d3702e4813"><a name="d3702e4813"><!----></a><a name="d3702e4814"><!----></a><code class="code code-width-limited">map(xs:string, xs:string)</code></td><td id="d3702e4817"><a name="d3702e4817"><!----></a><a name="d3702e4818"><!----></a> </td><td id="d3702e4820"><a name="d3702e4820"><!----></a><a name="d3702e4821"><!----></a><code class="code code-width-limited">map{}</code></td><td id="d3702e4824"><a name="d3702e4824"><!----></a><a name="d3702e4825"><!----></a>Optional filter settings for processing the parameters.</td></tr></tbody></table></div></div><div class="table" id="d3702e4829"><a name="d3702e4829"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e4835" class="thead-light"><tr id="d3702e4836"><th id="d3702e4837"><a name="d3702e4837"><!----></a>Module/Pipeline</th><th id="d3702e4839"><a name="d3702e4839"><!----></a>Description</th></tr></thead><tbody id="d3702e4841"><tr id="d3702e4842"><td id="d3702e4843"><a name="d3702e4843"><!----></a><a name="d3702e4844"><!----></a><code class="code code-width-limited"><a href="#xpl3-xtpxlib-xdoc.mod.xpl"><span class="link">xtpxlib-xdoc.mod.xpl</span></a></code></td><td id="d3702e4848"><a name="d3702e4848"><!----></a><a name="d3702e4849"><!----></a>Library with support pipelines for <code class="code">xdoc</code> and related conversions.</td></tr></tbody></table></div><div class="sect1" id="xpl3-xtpxlib-xdoc.mod.xpl"><a name="xpl3-xtpxlib-xdoc.mod.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">5.6</span> XProc (3.0) library: <code class="code">xtpxlib-xdoc.mod.xpl</code></h2><p class="para keep-with-next" id="d3702e4859"><a name="d3702e4859"><!----></a>File: <code class="code">xpl3mod/xtpxlib-xdoc.mod/xtpxlib-xdoc.mod.xpl</code></p><p class="para" id="d3702e4863"><a name="d3702e4863"><!----></a>Library with support pipelines for <code class="code">xdoc</code> and related conversions.</p><div class="table nonumber" id="d3702e4868"><a name="d3702e4868"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e4873" class="thead-light"><tr id="d3702e4874"><th id="d3702e4875"><a name="d3702e4875"><!----></a>Prefix</th><th id="d3702e4877"><a name="d3702e4877"><!----></a>Namespace URI</th></tr></thead><tbody id="d3702e4879"><tr id="d3702e4880"><td id="d3702e4881"><a name="d3702e4881"><!----></a><a name="d3702e4882"><!----></a><code class="code code-width-limited">xdoc</code></td><td id="d3702e4885"><a name="d3702e4885"><!----></a><a name="d3702e4886"><!----></a><code class="code">http://www.xtpxlib.nl/ns/xdoc</code></td></tr></tbody></table></div><div class="sect2" id="xpl3-xtpxlib-xdoc.mod.xpl-xdoc_markdown-to-docbook"><a name="xpl3-xtpxlib-xdoc.mod.xpl-xdoc_markdown-to-docbook"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">5.6.1</span> Step: <code class="code">xdoc:markdown-to-docbook</code></h3><p class="para" id="d3702e4894"><a name="d3702e4894"><!----></a>Converts the contents of <code class="code">xdoc:MARKDOWN</code> elements into DocBook.</p><p class="para" id="d3702e4899"><a name="d3702e4899"><!----></a>This pipeline checks the incoming XML for <code class="code">xdoc:MARKDOWN</code> elements. The contents of these elements is assumed to contain Markdown. The pipeline tries to convert this into DocBook. The <code class="code">xdoc:MARKDOWN</code> element is removed/unwrapped.</p><p class="para" id="d3702e4907"><a name="d3702e4907"><!----></a>The following rules apply:</p><ul class="itemizedlist" id="d3702e4909"><a name="d3702e4909"><!----></a><li id="d3702e4910"><a name="d3702e4910"><!----></a><p class="para" id="d3702e4911"><a name="d3702e4911"><!----></a>The contents of an <code class="code">xdoc:MARKDOWN</code> element is stringified (so any child elements are lost).</p></li><li id="d3702e4916"><a name="d3702e4916"><!----></a><p class="para" id="d3702e4917"><a name="d3702e4917"><!----></a>The resulting text can be indented, using space characters only (no tabs!). The non-empty line with the <span class="emphasis italic">minimum</span> indent is assumed to be its left margin.</p></li><li id="d3702e4922"><a name="d3702e4922"><!----></a><p class="para" id="d3702e4923"><a name="d3702e4923"><!----></a>Only simple Markdown is supported. Specifically:</p><ul class="itemizedlist" id="d3702e4925"><a name="d3702e4925"><!----></a><li id="d3702e4926"><a name="d3702e4926"><!----></a><p class="para" id="d3702e4927"><a name="d3702e4927"><!----></a>Inline markup for emphasis, bold, code, etc.</p></li><li id="d3702e4929"><a name="d3702e4929"><!----></a><p class="para" id="d3702e4930"><a name="d3702e4930"><!----></a>Links. A link target starting with a <code class="code">%</code> is handled as an <span class="emphasis italic">internal</span> link (the <code class="code">@xml:id</code> of something in the encompassing DocBook).</p></li><li id="d3702e4941"><a name="d3702e4941"><!----></a><p class="para" id="d3702e4942"><a name="d3702e4942"><!----></a>Code blocks (using three consecutive back-ticks)</p></li><li id="d3702e4944"><a name="d3702e4944"><!----></a><p class="para" id="d3702e4945"><a name="d3702e4945"><!----></a>Headers (these are all converted into the same DocBook <code class="code">bridgehead</code> elements)</p></li></ul></li><li id="d3702e4950"><a name="d3702e4950"><!----></a><p class="para" id="d3702e4951"><a name="d3702e4951"><!----></a>Specifically not supported (yet?) are tables.</p></li></ul><p class="para" id="d3702e4953"><a name="d3702e4953"><!----></a>If you add an <code class="code">header-only="true"</code> attribute to the <code class="code">xdoc:MARKDOWN</code> element, only the first paragraph will be output.</p><div class="table nonumber" id="d3702e4961"><a name="d3702e4961"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e4968" class="thead-light"><tr id="d3702e4969"><th id="d3702e4970"><a name="d3702e4970"><!----></a>Port</th><th id="d3702e4972"><a name="d3702e4972"><!----></a>Type</th><th id="d3702e4974"><a name="d3702e4974"><!----></a>Primary?</th><th id="d3702e4976"><a name="d3702e4976"><!----></a>Description</th></tr></thead><tbody id="d3702e4978"><tr id="d3702e4979"><td id="d3702e4980"><a name="d3702e4980"><!----></a><a name="d3702e4981"><!----></a><code class="code code-width-limited">source</code></td><td id="d3702e4984"><a name="d3702e4984"><!----></a>in</td><td id="d3702e4986"><a name="d3702e4986"><!----></a>yes</td><td id="d3702e4988"><a name="d3702e4988"><!----></a><a name="d3702e4989"><!----></a>Any XML that might contain <code class="code">xdoc:MARKDOWN</code> elements for conversion.</td></tr><tr id="d3702e4994"><td id="d3702e4995"><a name="d3702e4995"><!----></a><a name="d3702e4996"><!----></a><code class="code code-width-limited">result</code></td><td id="d3702e4999"><a name="d3702e4999"><!----></a>out</td><td id="d3702e5001"><a name="d3702e5001"><!----></a>yes</td><td id="d3702e5003"><a name="d3702e5003"><!----></a><a name="d3702e5004"><!----></a>The same XML but with the <code class="code">xdoc:MARKDOWN</code> element's contents converted into DocBook.</td></tr></tbody></table></div></div></div></div><script src="resources/jquery-3.4.1.slim.min.js"><!--  --></script><script src="resources/popper.min.js"><!--  --></script><script src="resources/bootstrap.min.js"><!--  --></script></body>
</html>