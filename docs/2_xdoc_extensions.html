<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container" lang="en" xml:lang="en">
  
  
  
  
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="resources/bootstrap.min.css"/>
    <link rel="stylesheet" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>2 xdoc extensions</title>
  </head>
  <body style="padding-top: 65px;"><nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark"><a class="navbar-brand" href="index.html" title="home">xtpxlib-xdoc</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"/></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav mr-auto"><li class="nav-item dropdown"><a href="1_Description.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Description <span class="caret"/></a><div class="dropdown-menu"><a href="1_Description.html" class="dropdown-item">Description</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="1_Description.html#d1796e1252">Overview</a><a class="dropdown-item" href="1_Description.html#sect-main-toolchain">The xtpxlib-xdoc main toolchain</a><a class="dropdown-item" href="1_Description.html#d1796e1750">Documentation website generation</a></div></li><li class="nav-item dropdown"><a href="2_xdoc_extensions.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">xdoc extensions <span class="caret"/></a><div class="dropdown-menu"><a href="2_xdoc_extensions.html" class="dropdown-item">xdoc extensions</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="2_xdoc_extensions.html#sect-available-xdoc-extension-elements">xdoc extension elements</a><a class="dropdown-item" href="2_xdoc_extensions.html#sect-builtin-xdoc-transformations">Built-in xdoc transformations</a><a class="dropdown-item" href="2_xdoc_extensions.html#sect-write-your-own-transformations">Writing your own xdoc transformations</a></div></li><li class="nav-item dropdown"><a href="3_DocBook_dialect.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">DocBook dialect <span class="caret"/></a><div class="dropdown-menu"><a href="3_DocBook_dialect.html" class="dropdown-item">DocBook dialect</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="3_DocBook_dialect.html#d1796e2260">Supported root elements</a><a class="dropdown-item" href="3_DocBook_dialect.html#sect-docbook5">Document information</a><a class="dropdown-item" href="3_DocBook_dialect.html#d1796e2303">Chapter/Section structure</a><a class="dropdown-item" href="3_DocBook_dialect.html#d1796e2347">Block constructions</a><a class="dropdown-item" href="3_DocBook_dialect.html#d1796e2871">Inline elements</a><a class="dropdown-item" href="3_DocBook_dialect.html#d1796e3475">Other constructs</a><a class="dropdown-item" href="3_DocBook_dialect.html#sect-fixed-width-column-mechanism">Fixed-width column mechanism</a></div></li><li class="nav-item"><a class="nav-link" href="resources/xtpxlib-xdoc-documentation.pdf" title="PDF version of this documentation site">PDF</a></li></ul></div></nav><div class="container"><a name="sect-xdoc-extensions"><!----></a><div class="page-header" style="padding-top: 65px; margin-top: -65px;"><h1 class="chapter"><span class="chapter-number">2 </span><code class="code">xdoc</code> extensions</h1></div><p class="para">The <b><code class="code">xtpxlib-xdoc</code></b> component uses (a subset of) <a href="https://docbook.org/" target="_blank"><span class="link">DocBook 5.1</span></a> as its main vocabulary. Within this there can be so-called <span class="emphasis italic"><code class="code">xdoc</code>
      extensions</span>. These are specific elements in the <code class="code">xdoc</code> (<code class="code">http://www.xtpxlib.nl/ns/xdoc</code>) namespace that trigger
    special actions, like generating code documentation or describe some XML document.</p><div class="sect1" id="sect-available-xdoc-extension-elements"><a name="sect-available-xdoc-extension-elements"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">2.1</span> <code class="code">xdoc</code> extension elements</h2><p class="para">The <code class="code">xdoc</code> format recognizes the following extension elements. The <code class="code">xdoc:</code> namespace prefix used here is bound to the
        <code class="code">http://www.xtpxlib.nl/ns/xdoc</code> namespace (<code class="code">xmlns:xdoc="http://www.xtpxlib.nl/ns/xdoc"</code>).</p><div class="sect2" id="d1796e1817"><a name="d1796e1817"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">2.1.1</span> Extension element <code class="tag">&lt;xdoc:dump-parameters&gt;</code></h3><p class="para">This extension element shows the parameters that are currently in use. It is mainly use for debugging purposes.</p><div class="programlisting"><pre class="programlisting">&lt;xdoc:dump-parameters type? = "comment" | "table" /&gt;</pre></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Attribute</th><th>#</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">type</code></td><td>?</td><td><code class="code">xs:string</code></td><td>Default: <code class="code">comment</code><br/>Whether to dump the parameters as a comment or table.<br/><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Value</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">comment</code></td><td>Dump the parameters as an XML comment</td></tr><tr><td><code class="code">table</code></td><td>Dump the parameters as a table</td></tr></tbody></table></div></td></tr></tbody></table></div></div><div class="sect2" id="d1796e1898"><a name="d1796e1898"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">2.1.2</span> Extension element <code class="tag">&lt;xdoc:transform&gt;</code></h3><p class="para">This extension element runs an <code class="code">xdoc</code> transformation (either XProc (1.0) or XSLT (2.0 or 3.0)). It is completely replaced by
        the outcome of the transformation.</p><p class="para">There are several <a href="#sect-builtin-xdoc-transformations"><span class="link">built-in transformations</span></a>. You can also <a href="#sect-write-your-own-transformations"><span class="link">write your own transformations</span></a>.</p><div class="programlisting"><pre class="programlisting">&lt;xdoc:transform href = xs:anyURI
                (any)? &gt;
  &lt;!-- Usually an &lt;xi:include&gt; element to load the data for the transformation. --&gt;
&lt;/xdoc:transform&gt;</pre></div><p class="para" style="font-size: 50%;"> </p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Attribute</th><th>#</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">href</code></td><td>1</td><td><code class="code">xs:anyURI</code></td><td>Reference to the actual transformation. Relative names are resolved against the location of the source document.<br/>This file's extension determines whether an XProc 1.0 (extension: <code class="code">.xpl</code>) or an XSLT (extension: <code class="code">.xsl</code>) is
        done.<br/>A value that starts with <code class="code">$xdoc</code> is assumed to be an <code class="code">xtpxlib-xdoc</code> built-in transformation (e.g.
          <code class="code">href="$xdoc/code-docgen.xpl"</code>). See also <a href="#sect-builtin-xdoc-transformations" class="xref">2.2 Built-in xdoc transformations</a>.</td></tr><tr><td><code class="code">(any)</code></td><td>?</td><td/><td>Often transformations specify additional attributes on the <code class="tag">&lt;xdoc:transform&gt;</code> element to parametrize their functionality. Any
        additional attribute is allowed here.</td></tr></tbody></table></div></div></div><div class="sect1" id="sect-builtin-xdoc-transformations"><a name="sect-builtin-xdoc-transformations"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">2.2</span> Built-in <code class="code">xdoc</code> transformations</h2><div class="sect2" id="code-docgen.xpl"><a name="code-docgen.xpl"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">2.2.1</span> XProc (1.0) pipeline: <code class="code">code-docgen.xpl (xdoc:code-docgen)</code></h3><p class="para">Takes some XML document (XSL, XSD, XProc, ordinary XML, etc.) and tries to generate some documentation out of it. For instance this section itself is generated by the <code class="code">code-docgen.xpl</code> transformation on itself.</p><p class="para">Typical usage (within an <code class="code">xdoc</code> source document):</p><div class="programlisting"><pre class="programlisting">&lt;xdoc:transform href="$xdoc/code-docgen.xpl
   filecomponents="…"
   header-level="…"
   add-table-titles="…"
   sublevels="…"
   id="…" &gt;
  &lt;xi:include href="path/to/document/to/generate/documentation/for"/&gt;
&lt;/xdoc:transform&gt;</pre></div><ul class="itemizedlist"><li><p class="para"><code class="code">@filecomponents</code>: Determines the display of the filename:</p><ul class="itemizedlist"><li><p class="para">When lt 0, no filename is displayed</p></li><li><p class="para">When eq 0, the full filename (with full path) is displayed</p></li><li><p class="para">When gt 0, this number of filename components is displayed. So 1 means filename only, 2 means filename and direct foldername, etc.</p></li></ul></li><li><p class="para"><code class="code">@header-level</code>: Determines what kind of DocBook section is created:</p><ul class="itemizedlist"><li><p class="para">When le 0, no separate section is created, all titles will be output as <code class="code">bridgehead</code> elements.</p></li><li><p class="para">Otherwise a title with this level is created (e.g. <code class="code">header-level="1"</code> means a <code class="code">sect1</code> element).</p></li></ul></li><li><p class="para"><code class="code">@add-table-titles</code>: (boolean, default <code class="code">false</code>) Whether to add titles to generated tables.</p></li><li><p class="para"><code class="code">@sublevels</code>: (boolean, default <code class="code">true</code>) If true only the main section will be a "real" section. All sublevels will become bridgeheads.</p></li><li><p class="para"><code class="code">@id</code>: Optional identifier of this section. If absent the id will become the document's filename.</p></li></ul><p class="para">When the format to document has means to add documentation of itself (like XProc (<code class="code">p:documentation</code>) or XML Schema (<code class="code">xs:annotation</code>)), this is used. When there is no such thing (like for XSLT and straight XML), comments starting with a tilde (<code class="code">~</code>) are used.</p><p class="para">The descriptions can contain simple Markdown.</p><p class="para">The following formats are supported</p><ul class="itemizedlist"><li><p class="para">XML documents: only the header comment is used.</p></li><li><p class="para">XSLT (2.0 and 3.0) stylesheets: document all exported parameters, variables, functions and named templates. SOmething is supposed to be for export if its <span class="emphasis italic">not</span> in the no or local namespace.</p></li><li><p class="para">XProc (1.0) pipelines and libraries</p></li><li><p class="para">XML Schemas: use the main annotation and document the global elements</p></li></ul><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Port</th><th>Type</th><th>Primary?</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">source</code></td><td>in</td><td>yes</td><td>The document to generate documentation for, wrapped in an <code class="code">xdoc:transform</code> element.</td></tr><tr><td><code class="code">result</code></td><td>out</td><td>yes</td><td>The resulting DocBook output.</td></tr></tbody></table></div></div><div class="sect2" id="xml-description.xpl"><a name="xml-description.xpl"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">2.2.2</span> XProc (1.0) pipeline: <code class="code">xml-description.xpl</code></h3><p class="para">Turns an XML element description into the appropriate DocBook. An annotated schema for the element's description markup can be found in <code class="code">xsd/element-description.xml</code>.</p><p class="para">Typical usage (within an <code class="code">xdoc</code> source document):</p><div class="programlisting"><pre class="programlisting">&lt;xdoc:transform href="$xdoc/xml-description.xpl&gt;
  &lt;xi:include href="path/to/xml/description.xml"/&gt;
&lt;/xdoc:transform&gt;</pre></div><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Port</th><th>Type</th><th>Primary?</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">source</code></td><td>in</td><td>yes</td><td>The document containing the XML description, wrapped in an <code class="code">xdoc:transform</code> element.</td></tr><tr><td><code class="code">result</code></td><td>out</td><td>yes</td><td>The resulting DocBook output, containing the element's description.</td></tr></tbody></table></div></div></div><div class="sect1" id="sect-write-your-own-transformations"><a name="sect-write-your-own-transformations"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">2.3</span> Writing your own <code class="code">xdoc</code> transformations</h2><p class="para"><span class="tbd-marker">[TBD]</span></p></div></div><script src="resources/jquery-3.4.1.slim.min.js"><!--  --></script><script src="resources/popper.min.js"><!--  --></script><script src="resources/bootstrap.min.js"><!--  --></script></body>
</html>