<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container">
  <head>
    <link rel="stylesheet" type="text/css" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>2 xdoc extensions</title>
  </head>
  <body><div class="chapter" id="sect-xdoc-extensions"><a name="sect-xdoc-extensions"/><h1 class="chapter"><span class="chapter-number">2 </span><code class="code">xdoc</code> extensions</h1><p class="para">The <span class="emphasis bold"><code class="code">xtpxlib-xdoc</code></span> component uses (a subset of) <a href="https://docbook.org/" target="_blank"><span class="link">DocBook 5.1</span></a> as its main vocabulary. Within this there can be so-called
        <span class="emphasis italic"><code class="code">xdoc</code> extensions</span>).</p><ul class="itemizedlist"><li><p class="para"><code class="code">xdoc</code> extensions are specific elements in the <code class="code">xdoc</code> (<code class="code">http://www.xtpxlib.nl/ns/xdoc</code>) namespace. These
        are described in <a href="#sect-available-xdoc-extension-elements" class="xref">2.1 xdoc extension elements</a>.</p></li></ul><div class="sect1" id="sect-available-xdoc-extension-elements"><a name="sect-available-xdoc-extension-elements"/><h2 class="sect1"><span class="sect1-number">2.1</span> <code class="code">xdoc</code> extension elements</h2><p class="para"><span class="tbd-marker">[TBD]</span></p></div><div class="sect1" id="sect-builtin-xdoc-transformations"><a name="sect-builtin-xdoc-transformations"/><h2 class="sect1"><span class="sect1-number">2.2</span> Built-in <code class="code">xdoc</code> transformations</h2><div class="sect2" id="d317e946"><a name="d317e946"/><h3 class="sect2"><span class="sect2-number">2.2.1</span> XProc 1.0 pipeline: <code class="code">code-docgen.xpl</code></h3><p class="para">This pipeline takes some document (XSL, XSD, ordinary XML, etc.), wrapped inside an <code class="code">xdoc:transform</code> element, and searches it for documentation. It then tries to auto-generate documentation in the intermediate docgen format (see <code class="code">xsd/docgen-intermediate.xsd</code>).</p><p class="para">When the format has the means to add documentation of itself (like for XProc and XML Schema), this is used. When there is no such thing (like for XSLT and straight XML), comments starting with a tilde (<code class="code">~</code>) are used.</p><p class="para">The descriptions can contain simple Markdown.</p><p class="para">You can use an <code class="code">@filecomponents</code> attribute on the <code class="code">xdoc:transform</code> element to control the way the filename is displayed:</p><ul class="itemizedlist"><li><p class="para">When lt 0, no filename is displayed</p></li><li><p class="para">When eq 0, the full filename (with full path) is displayed</p></li><li><p class="para">When gt 0, this number of filename components is displayed. So 1 means filename only, 2 means filename and direct foldername, etc.</p></li></ul><p class="para">TBD: @header-level</p><div class="table"><table class="table"><thead><tr><th><p class="para">Port</p></th><th><p class="para">Tp.</p></th><th><p class="para">Pr?</p></th><th><p class="para">Description</p></th></tr></thead><tbody><tr><td><p class="para"><code class="code">source</code></p></td><td><p class="para">in</p></td><td><p class="para"><span class="emphasis bold">*</span></p></td><td><p class="para">The document to generate documentation for, wrapped in an xdoc:transform element. TBD also works without wrapper</p></td></tr><tr><td><p class="para"><code class="code">result</code></p></td><td><p class="para">out</p></td><td><p class="para"><span class="emphasis bold">*</span></p></td><td><p class="para">The resulting docbook 5 output</p></td></tr></tbody></table></div></div><div class="sect2" id="d317e1031"><a name="d317e1031"/><h3 class="sect2"><span class="sect2-number">2.2.2</span> XProc 1.0 pipeline: <code class="code">xml-description.xpl</code></h3><p class="para">Turns an XML element description into the appropriate DocBook. A schema for the element's description markup can be found in <code class="code">xsd/element-description.xml</code>.</p><p class="para">Typical usage (within an <code class="code">xdoc</code> source document):</p><div class="programlisting"><pre class="programlisting">&lt;xdoc:transform href="$xdoc/xml-description/xml-description.xpl&gt;
  &lt;xi:include href="path/to/xml/description.xml"/&gt;
&lt;/xdoc:transform&gt;</pre></div><div class="table"><table class="table"><thead><tr><th><p class="para">Port</p></th><th><p class="para">Tp.</p></th><th><p class="para">Pr?</p></th><th><p class="para">Description</p></th></tr></thead><tbody><tr><td><p class="para"><code class="code">source</code></p></td><td><p class="para">in</p></td><td><p class="para"><span class="emphasis bold">*</span></p></td><td><p class="para">The document containing the XML description, wrapped in an <code class="code">xdoc:transform</code> element.</p></td></tr><tr><td><p class="para"><code class="code">result</code></p></td><td><p class="para">out</p></td><td><p class="para"><span class="emphasis bold">*</span></p></td><td><p class="para">The resulting DocBook output, containing the element's description</p></td></tr></tbody></table></div></div></div></div><!-- == TOC == --><div class="toc"><h1 class="toc-header">xtpxlib-xdoc - An xtpxlib component for generating documentation</h1><ul class="toc-level-0"><li><a href="index.html">home</a></li><li><a href="1_Description.html">1 Description</a><ul class="toc-level-1"><li><a href="1_Description.html#d317e370">1.1 Overview</a></li><li><a href="1_Description.html#sect-main-toolchain">1.2 The xtpxlib-xdoc main toolchain</a></li><li><a href="1_Description.html#d317e868">1.3 Documentation website generation</a></li></ul></li><li><a href="2_xdoc_extensions.html">2 xdoc extensions</a><ul class="toc-level-1"><li><a href="2_xdoc_extensions.html#sect-available-xdoc-extension-elements">2.1 xdoc extension elements</a></li><li><a href="2_xdoc_extensions.html#sect-builtin-xdoc-transformations">2.2 Built-in xdoc transformations</a><ul class="toc-level-2"><li><a href="2_xdoc_extensions.html#d317e946">2.2.1 XProc 1.0 pipeline: code-docgen.xpl</a></li><li><a href="2_xdoc_extensions.html#d317e1031">2.2.2 XProc 1.0 pipeline: xml-description.xpl</a></li></ul></li></ul></li><li><a href="resources//xtpxlib-xdoc-documentation.pdf">PDF</a></li></ul></div></body>
</html>