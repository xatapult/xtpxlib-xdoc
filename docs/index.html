<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container" lang="en" xml:lang="en">
  
  
  
  
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="resources/bootstrap.min.css"/>
    <link rel="stylesheet" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>Documentation generation with xtpxlib-xdoc</title>
  </head>
  <body style="padding-top: 65px;"><nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark"><a class="navbar-brand" href="index.html" title="home">xtpxlib-xdoc</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"/></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav mr-auto"><li class="nav-item dropdown"><a href="1_Description.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Description <span class="caret"/></a><div class="dropdown-menu"><a href="1_Description.html" class="dropdown-item">Description</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="1_Description.html#d1796e1252">Overview</a><a class="dropdown-item" href="1_Description.html#sect-main-toolchain">The xtpxlib-xdoc main toolchain</a><a class="dropdown-item" href="1_Description.html#d1796e1750">Documentation website generation</a></div></li><li class="nav-item dropdown"><a href="2_xdoc_extensions.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">xdoc extensions <span class="caret"/></a><div class="dropdown-menu"><a href="2_xdoc_extensions.html" class="dropdown-item">xdoc extensions</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="2_xdoc_extensions.html#sect-available-xdoc-extension-elements">xdoc extension elements</a><a class="dropdown-item" href="2_xdoc_extensions.html#sect-builtin-xdoc-transformations">Built-in xdoc transformations</a><a class="dropdown-item" href="2_xdoc_extensions.html#sect-write-your-own-transformations">Writing your own xdoc transformations</a></div></li><li class="nav-item dropdown"><a href="3_DocBook_dialect.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">DocBook dialect <span class="caret"/></a><div class="dropdown-menu"><a href="3_DocBook_dialect.html" class="dropdown-item">DocBook dialect</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="3_DocBook_dialect.html#d1796e2260">Supported root elements</a><a class="dropdown-item" href="3_DocBook_dialect.html#sect-docbook5">Document information</a><a class="dropdown-item" href="3_DocBook_dialect.html#d1796e2303">Chapter/Section structure</a><a class="dropdown-item" href="3_DocBook_dialect.html#d1796e2347">Block constructions</a><a class="dropdown-item" href="3_DocBook_dialect.html#d1796e2871">Inline elements</a><a class="dropdown-item" href="3_DocBook_dialect.html#d1796e3475">Other constructs</a><a class="dropdown-item" href="3_DocBook_dialect.html#sect-fixed-width-column-mechanism">Fixed-width column mechanism</a></div></li><li class="nav-item"><a class="nav-link" href="resources/xtpxlib-xdoc-documentation.pdf" title="PDF version of this documentation site">PDF</a></li></ul></div></nav><div class="container"><a name="d1796e29"><!----></a><div class="page-header" style="padding-top: 65px; margin-top: -65px;"><h1 class="preface">Documentation generation with xtpxlib-xdoc</h1></div><div class="sidebar"><p class="sidebar-title"/><p class="figure"><img src="resources/logo-xatapult.jpg" class="figure" width="15%"/><br/></p><p class="para" style="font-size: 50%;"> </p><p class="para"><b><code class="code">xtpxlib</code></b> library - component <b><code class="code">xtpxlib-xdoc</code></b> - v0.0 2019-11-28</p><p class="para">Xatapult Content Engineering - <a href="http://www.xatapult.com" target="_blank"><span class="link">http://www.xatapult.com</span></a> - +31 6 53260792</p><p class="para">Erik Siegel - <a href="mailto:erik@xatapult.com"><span class="link">erik@xatapult.com</span></a></p></div><p class="para" style="font-size: 50%;"> </p><p class="para"><b><code class="code">xtpxlib-xdoc</code></b> is part of the <b><code class="code">xtpxlib</code></b>
          library. <b><code class="code">xtpxlib</code></b> contains software for processing XML, using languages like XSLT and XProc. It
          consists of several separate components, all named <code class="code">xtpxlib-*</code>. Everything can be found on GitHub (<a href="https://github.com/xatapult" target="_blank"><span class="link">https://github.com/xatapult</span></a>).</p><p class="para"><code class="code">xtpxlib-xdoc</code> TBD</p><p class="para">Installation and usage information can be found on <b><code class="code">xtpxlib</code></b>'s main website <a href="https://www.xtpxlib.org"><span class="link">https://www.xtpxlib.org</span></a>.</p><p class="bridgehead">Technical information:</p><p class="para">Component documentation: <a href="https://xdoc.xtpxlib.org"><span class="link">https://xdoc.xtpxlib.org</span></a></p><p class="para">License: GNU GENERAL PUBLIC LICENSE - Version 3, 29 June 2007</p><p class="para">Git URI: <code class="code">git@github.com:xatapult/xtpxlib-xdoc.git</code></p><p class="para">Git site: <a href="https://github.com/xatapult/xtpxlib-xdoc" target="_blank"><span class="link">https://github.com/xatapult/xtpxlib-xdoc</span></a></p><p class="para">This component depends on:</p><ul class="itemizedlist"><li><p class="para"><a href="https://container.xtpxlib.org"><span class="link">xtpxlib-container</span></a> (Support for XML containers (multiple files wrapped into one))</p></li><li><p class="para"><a href="https://common.xtpxlib.org"><span class="link">xtpxlib-common</span></a> (Common component: Shared libraries and IDE support)</p></li></ul><p class="bridgehead">TEST</p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Module</th><th>Description</th></tr></thead><tbody><tr><td><code class="code"><a href="#compare.mod.xsl"><span class="link">compare.mod.xsl</span></a></code></td><td>XSL library module with support for comparing XML documents/elements:</td></tr><tr><td><code class="code"><a href="#date-time.mod.xsl"><span class="link">date-time.mod.xsl</span></a></code></td><td>XSLT library module containing functions for working with dates and times.</td></tr><tr><td><code class="code"><a href="#format-output.mod.xsl"><span class="link">format-output.mod.xsl</span></a></code></td><td>XSLT library with functions for formatting output/strings.</td></tr><tr><td><code class="code"><a href="#general.mod.xsl"><span class="link">general.mod.xsl</span></a></code></td><td>XSLT library module with general constants and code.</td></tr><tr><td><code class="code"><a href="#href.mod.xsl"><span class="link">href.mod.xsl</span></a></code></td><td>XSLT library module with functions for the generic handling of href-s (filenames/paths).</td></tr><tr><td><code class="code"><a href="#message.mod.xsl"><span class="link">message.mod.xsl</span></a></code></td><td>Message related templates.</td></tr><tr><td><code class="code"><a href="#mimetypes.mod.xsl"><span class="link">mimetypes.mod.xsl</span></a></code></td><td>MIME type conversion related functions.</td></tr><tr><td><code class="code"><a href="#parameters.mod.xsl"><span class="link">parameters.mod.xsl</span></a></code></td><td>Takes an XML document with parameters and turns this into a parameter map.</td></tr><tr><td><code class="code"><a href="#uuid.mod.xsl"><span class="link">uuid.mod.xsl</span></a></code></td><td>UUID related functions.</td></tr></tbody></table></div><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Module</th><th>Description</th></tr></thead><tbody><tr><td><code class="code"><a href="#common.mod.xpl"><span class="link">common.mod.xpl</span></a></code></td><td/></tr></tbody></table></div><p class="bridgehead" id="common.mod.xpl"><a name="common.mod.xpl"><!----></a>XProc (1.0) library: <code class="code">common.mod.xpl</code></p><p class="para">File: <code class="code">C:/Data/Erik/work/xatapult/xtpxlib-common/xplmod/common.mod/common.mod.xpl</code></p><p class="para">XProc (1.0) library with generic steps.</p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Prefix</th><th>Namespace URI</th></tr></thead><tbody><tr><td><code class="code">xtlc</code></td><td><code class="code">http://www.xtpxlib.nl/ns/common</code></td></tr></tbody></table></div><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Step</th><th>Description</th></tr></thead><tbody><tr><td><code class="code"><a href="#common.mod.xpl-xtlc_copy-directory"><span class="link">xtlc:copy-directory</span></a></code></td><td>Copies a full directory structure.</td></tr><tr><td><code class="code"><a href="#common.mod.xpl-xtlc_copy-file"><span class="link">xtlc:copy-file</span></a></code></td><td>Copies a file, if necessary from inside a zip file.</td></tr><tr><td><code class="code"><a href="#common.mod.xpl-xtlc_log"><span class="link">xtlc:log</span></a></code></td><td>Writes a message to a log file.</td></tr><tr><td><code class="code"><a href="#common.mod.xpl-xtlc_recursive-directory-list"><span class="link">xtlc:recursive-directory-list</span></a></code></td><td>Returns the contents of a directory, going into sub-directories recursively. When the requested directory does not exist, it returns only a <code class="code">c:directory</code> root element with an <code class="code">error="true"</code> attribute.</td></tr><tr><td><code class="code"><a href="#common.mod.xpl-xtlc_remove-dir"><span class="link">xtlc:remove-dir</span></a></code></td><td>Removes a full directory When the directory does not exist, everything continues without error.</td></tr><tr><td><code class="code"><a href="#common.mod.xpl-xtlc_tee"><span class="link">xtlc:tee</span></a></code></td><td>Tees the input to a file and passes it unchanged (like the Unix tee command).</td></tr><tr><td><code class="code"><a href="#common.mod.xpl-xtlc_zip-directory"><span class="link">xtlc:zip-directory</span></a></code></td><td>Zips a directory and its sub-directories into a single zip file.</td></tr></tbody></table></div><p class="bridgehead" id="common.mod.xpl-xtlc_copy-directory"><a name="common.mod.xpl-xtlc_copy-directory"><!----></a>Step: <code class="code">xtlc:copy-directory</code></p><p class="para">Copies a full directory structure.</p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Port</th><th>Type</th><th>Primary?</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">source</code></td><td>in</td><td>yes</td><td>Input, will be passed unchanged.</td></tr><tr><td><code class="code">result</code></td><td>out</td><td>yes</td><td>The input unchanged.</td></tr></tbody></table></div><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Option</th><th>Rq?</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">href-source-dir</code></td><td>yes</td><td><code class="code"/></td><td>Reference to the directory to copy from (must have a leading <code class="code">file:/</code> specifier!).</td></tr><tr><td><code class="code">href-target-dir</code></td><td>yes</td><td><code class="code"/></td><td>Reference to the directory to copy to (must have a leading <code class="code">file:/</code> specifier!). If it does not exist the step will try to create it.</td></tr></tbody></table></div><p class="bridgehead" id="common.mod.xpl-xtlc_copy-file"><a name="common.mod.xpl-xtlc_copy-file"><!----></a>Step: <code class="code">xtlc:copy-file</code></p><p class="para">Copies a file, if necessary from inside a zip file.</p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Port</th><th>Type</th><th>Primary?</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">source</code></td><td>in</td><td>yes</td><td>Input, will be passed unchanged.</td></tr><tr><td><code class="code">result</code></td><td>out</td><td>yes</td><td>The input unchanged.</td></tr></tbody></table></div><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Option</th><th>Rq?</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">enable</code></td><td> </td><td><code class="code">true()</code></td><td>Whether the copying is done at all.</td></tr><tr><td><code class="code">href-source</code></td><td>yes</td><td><code class="code"/></td><td>Reference to the source file to copy (must have a leading <code class="code">file:/</code> specifier!).</td></tr><tr><td><code class="code">href-source-zip</code></td><td> </td><td><code class="code">''</code></td><td>Document reference to a zip file (must have a leading <code class="code">file:/</code> specifier!). When filled, <code class="code">$href-source</code> is assumed to be a path inside this zip.</td></tr><tr><td><code class="code">href-target</code></td><td>yes</td><td><code class="code"/></td><td>Reference to the target.</td></tr></tbody></table></div><p class="bridgehead" id="common.mod.xpl-xtlc_log"><a name="common.mod.xpl-xtlc_log"><!----></a>Step: <code class="code">xtlc:log</code></p><p class="para">Writes a message to a log file.</p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Port</th><th>Type</th><th>Primary?</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">source</code></td><td>in</td><td>yes</td><td>Input to the logging, will be passed unchanged to the output</td></tr><tr><td><code class="code">result</code></td><td>out</td><td>yes</td><td>The input unchanged.</td></tr></tbody></table></div><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Option</th><th>Rq?</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">enable</code></td><td> </td><td><code class="code">true()</code></td><td>Whether the logging will be done at all.</td></tr><tr><td><code class="code">href-log</code></td><td>yes</td><td><code class="code"/></td><td>Name of the file to write the log messages to (must have a leading <code class="code">file:/</code> specifier!).</td></tr><tr><td><code class="code">keep-messages</code></td><td> </td><td><code class="code">100</code></td><td>The number of messages to keep in the logfile. If le <code class="code">0</code>, all messages are kept. Set by default to <code class="code">100</code> to prevent overflowing files…</td></tr><tr><td><code class="code">message</code></td><td>yes</td><td><code class="code"/></td><td>The actual log message to write.</td></tr><tr><td><code class="code">status</code></td><td> </td><td><code class="code">'ok'</code></td><td>Status of the message. Must be <code class="code">ok</code>, <code class="code">warning</code>, <code class="code">error</code> or <code class="code">debug</code>.</td></tr></tbody></table></div><p class="bridgehead" id="common.mod.xpl-xtlc_recursive-directory-list"><a name="common.mod.xpl-xtlc_recursive-directory-list"><!----></a>Step: <code class="code">xtlc:recursive-directory-list</code></p><p class="para">Returns the contents of a directory, going into sub-directories recursively. When the requested directory does not exist, it returns only a <code class="code">c:directory</code> root element with an <code class="code">error="true"</code> attribute.</p><p class="para">Adapted from Norman Walsh's <a href="https://github.com/xquery/xquerydoc/blob/master/deps/xmlcalabash/recursive-directory-list.xpl"><span class="link">example code</span></a>.</p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Port</th><th>Type</th><th>Primary?</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">result</code></td><td>out</td><td>yes</td><td>The resulting directory structure listing in XML format.</td></tr></tbody></table></div><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Option</th><th>Rq?</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">depth</code></td><td> </td><td><code class="code">-1</code></td><td>The sub-directory depth to go. When le <code class="code">0</code>, all sub-directories are processed.</td></tr><tr><td><code class="code">exclude-filter</code></td><td> </td><td><code class="code"/></td><td>An optional regular expression exclude filter.</td></tr><tr><td><code class="code">flatten</code></td><td> </td><td><code class="code">false()</code></td><td>When <code class="code">true</code>, the list will be "flattened": All <code class="code">c:file</code> children will be direct children of the root's <code class="code">c:directory</code> element. These <code class="code">c:file</code> elements get a <code class="code">@name</code>, <code class="code">@href-abs</code> (absolute filename) and <code class="code">@href-rel</code> (relative filename) attribute.</td></tr><tr><td><code class="code">include-filter</code></td><td> </td><td><code class="code"/></td><td>An optional regular expression include filter.</td></tr><tr><td><code class="code">path</code></td><td>yes</td><td><code class="code"/></td><td>The path to get the directory listing from.</td></tr></tbody></table></div><p class="bridgehead" id="common.mod.xpl-xtlc_remove-dir"><a name="common.mod.xpl-xtlc_remove-dir"><!----></a>Step: <code class="code">xtlc:remove-dir</code></p><p class="para">Removes a full directory When the directory does not exist, everything continues without error.</p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Port</th><th>Type</th><th>Primary?</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">source</code></td><td>in</td><td>yes</td><td>Input, will be passed unchanged.</td></tr><tr><td><code class="code">result</code></td><td>out</td><td>yes</td><td>The input unchanged.</td></tr></tbody></table></div><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Option</th><th>Rq?</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">enable</code></td><td> </td><td><code class="code">true()</code></td><td>Whether the removal is done at all.</td></tr><tr><td><code class="code">href-dir</code></td><td>yes</td><td><code class="code"/></td><td>Reference to the directory to remove (must have a leading <code class="code">file:/</code> specifier!).</td></tr></tbody></table></div><p class="bridgehead" id="common.mod.xpl-xtlc_tee"><a name="common.mod.xpl-xtlc_tee"><!----></a>Step: <code class="code">xtlc:tee</code></p><p class="para">Tees the input to a file and passes it unchanged (like the Unix tee command).</p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Port</th><th>Type</th><th>Primary?</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">source</code></td><td>in</td><td>yes</td><td>Input to the tee.</td></tr><tr><td><code class="code">result</code></td><td>out</td><td>yes</td><td>The input unchanged (unless a <code class="code">$root-attribute-href</code> was specified).</td></tr></tbody></table></div><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Option</th><th>Rq?</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">enable</code></td><td> </td><td><code class="code">true()</code></td><td>Whether to actually do the write. When <code class="code">false</code>, nothing happens.</td></tr><tr><td><code class="code">href</code></td><td>yes</td><td><code class="code"/></td><td>Name of the file to write to (must have a leading <code class="code">file:/</code> specifier!)</td></tr><tr><td><code class="code">root-attribute-href</code></td><td> </td><td><code class="code">''</code></td><td>If filled, <code class="code">$href</code> is recorded as an attribute with this name on the root element of the original input. Must be a valid attribute name.</td></tr></tbody></table></div><p class="bridgehead" id="common.mod.xpl-xtlc_zip-directory"><a name="common.mod.xpl-xtlc_zip-directory"><!----></a>Step: <code class="code">xtlc:zip-directory</code></p><p class="para">Zips a directory and its sub-directories into a single zip file.</p><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Port</th><th>Type</th><th>Primary?</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">result</code></td><td>out</td><td>yes</td><td>The output of the actual zip step, listing all the files that went in.</td></tr></tbody></table></div><div class="table"><table class="table table-sm table-bordered"><thead class="thead-light"><tr><th>Option</th><th>Rq?</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">base-path</code></td><td>yes</td><td><code class="code"/></td><td>Directory which contents will be stored in the zip (must have a leading <code class="code">file:/</code> specifier!)</td></tr><tr><td><code class="code">href-target-zip</code></td><td>yes</td><td><code class="code"/></td><td>Document reference for the zip file to produce (must have a leading <code class="code">file:/</code> specifier!)</td></tr><tr><td><code class="code">include-base</code></td><td> </td><td><code class="code">true()</code></td><td>When true, the last part of <code class="code">$base-path</code> (e.g. <code class="code">a/b/c</code> ==&gt; <code class="code">c</code>) is used as the root directory in the zip file.</td></tr></tbody></table></div></div><script src="resources/jquery-3.4.1.slim.min.js"><!--  --></script><script src="resources/popper.min.js"><!--  --></script><script src="resources/bootstrap.min.js"><!--  --></script></body>
</html>