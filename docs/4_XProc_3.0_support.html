<?xml version="1.0" encoding="UTF-8"?>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container">
  
  
  
  
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="resources/bootstrap.min.css"/>
    <link rel="stylesheet" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>4 XProc 3.0 support</title>
  </head>
  <body style="padding-top: 65px;"><nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark"><a class="navbar-brand" href="index.html" title="home">xtpxlib-xdoc</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"/></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav mr-auto"><li class="nav-item dropdown"><a href="1_Description.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Description <span class="caret"/></a><div class="dropdown-menu"><a href="1_Description.html" class="dropdown-item">Description</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="1_Description.html#sect-main-toolchain">The main toolchain</a></div></li><li class="nav-item dropdown"><a href="2_Instructions.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Instructions <span class="caret"/></a><div class="dropdown-menu"><a href="2_Instructions.html" class="dropdown-item">Instructions</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="2_Instructions.html#d3702e539">Getting started</a><a class="dropdown-item" href="2_Instructions.html#d3702e575">Validation</a><a class="dropdown-item" href="2_Instructions.html#sect-parameter-substitution">Parameter substitution</a><a class="dropdown-item" href="2_Instructions.html#d3702e879">xdoc transforms</a></div></li><li class="nav-item dropdown"><a href="3_xdoc_transforms.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">xdoc transforms <span class="caret"/></a><div class="dropdown-menu"><a href="3_xdoc_transforms.html" class="dropdown-item">xdoc transforms</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="3_xdoc_transforms.html#d3702e1086">Running an xdoc transform</a><a class="dropdown-item" href="3_xdoc_transforms.html#sect-builtin-xdoc-transformations-3">Built-in xdoc transformations (XProc 3.0)</a><a class="dropdown-item" href="3_xdoc_transforms.html#sect-builtin-xdoc-transformations">Built-in xdoc transformations (XProc 1.0)</a><a class="dropdown-item" href="3_xdoc_transforms.html#sect-write-your-own-transformations">Writing your own xdoc transformations</a></div></li><li class="nav-item dropdown"><a href="4_XProc_3.0_support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 3.0 support <span class="caret"/></a><div class="dropdown-menu"><a href="4_XProc_3.0_support.html" class="dropdown-item">XProc 3.0 support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="4_XProc_3.0_support.html#xpl3-docbook-to-pdf.xpl">XProc (3.0) pipeline: docbook-to-pdf.xpl</a><a class="dropdown-item" href="4_XProc_3.0_support.html#xpl3-docbook-to-xhtml.xpl">XProc (3.0) pipeline: docbook-to-xhtml.xpl</a><a class="dropdown-item" href="4_XProc_3.0_support.html#xpl3-xdoc-to-docbook.xpl">XProc (3.0) pipeline: xdoc-to-docbook.xpl</a><a class="dropdown-item" href="4_XProc_3.0_support.html#xpl3-xdoc-to-pdf.xpl">XProc (3.0) pipeline: xdoc-to-pdf.xpl</a><a class="dropdown-item" href="4_XProc_3.0_support.html#xpl3-xdoc-to-xhtml.xpl">XProc (3.0) pipeline: xdoc-to-xhtml.xpl</a><a class="dropdown-item" href="4_XProc_3.0_support.html#xpl3-xtpxlib-xdoc.mod.xpl">XProc (3.0) library: xtpxlib-xdoc.mod.xpl</a></div></li><li class="nav-item dropdown"><a href="5_XProc_1.0_support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 1.0 support <span class="caret"/></a><div class="dropdown-menu"><a href="5_XProc_1.0_support.html" class="dropdown-item">XProc 1.0 support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="5_XProc_1.0_support.html#docbook-to-pdf.xpl">XProc (1.0) pipeline: docbook-to-pdf.xpl</a><a class="dropdown-item" href="5_XProc_1.0_support.html#docbook-to-xhtml.xpl">XProc (1.0) pipeline: docbook-to-xhtml.xpl</a><a class="dropdown-item" href="5_XProc_1.0_support.html#xdoc-to-docbook.xpl">XProc (1.0) pipeline: xdoc-to-docbook.xpl</a><a class="dropdown-item" href="5_XProc_1.0_support.html#xdoc-to-pdf.xpl">XProc (1.0) pipeline: xdoc-to-pdf.xpl</a><a class="dropdown-item" href="5_XProc_1.0_support.html#xdoc-to-xhtml.xpl">XProc (1.0) pipeline: xdoc-to-xhtml.xpl</a><a class="dropdown-item" href="5_XProc_1.0_support.html#xtpxlib-xdoc.mod.xpl">XProc (1.0) library: xtpxlib-xdoc.mod.xpl</a></div></li><li class="nav-item dropdown"><a href="6_DocBook_dialect.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">DocBook dialect <span class="caret"/></a><div class="dropdown-menu"><a href="6_DocBook_dialect.html" class="dropdown-item">DocBook dialect</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="6_DocBook_dialect.html#d3702e5052">Supported root elements</a><a class="dropdown-item" href="6_DocBook_dialect.html#sect-docbook5">Document information</a><a class="dropdown-item" href="6_DocBook_dialect.html#d3702e5102">Chapter/Section structure</a><a class="dropdown-item" href="6_DocBook_dialect.html#d3702e5150">Block constructions</a><a class="dropdown-item" href="6_DocBook_dialect.html#d3702e5781">Inline elements</a><a class="dropdown-item" href="6_DocBook_dialect.html#d3702e6453">Other constructs</a><a class="dropdown-item" href="6_DocBook_dialect.html#sect-fixed-width-column-mechanism">Fixed-width column mechanism</a></div></li><li class="nav-item"><a class="nav-link" href="resources/xtpxlib-xdoc-documentation.pdf" title="PDF version of this documentation site">PDF</a></li></ul></div></nav><div class="container"><a name="chapter-xproc-3-pipelines"><!----></a><div class="page-header" style="padding-top: 65px; margin-top: -65px;"><h1 class="chapter"><span class="chapter-number">4 </span>XProc 3.0 support</h1></div><p class="para" id="d3702e2369"><a name="d3702e2369"><!----></a>The xtpxlib-xdoc component contains the following XProc 3.0 pipelines:</p><div class="table" id="d3702e2372"><a name="d3702e2372"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e2378" class="thead-light"><tr id="d3702e2379"><th id="d3702e2380"><a name="d3702e2380"><!----></a>Module/Pipeline</th><th id="d3702e2382"><a name="d3702e2382"><!----></a>Description</th></tr></thead><tbody id="d3702e2384"><tr id="d3702e2385"><td id="d3702e2386"><a name="d3702e2386"><!----></a><a name="d3702e2387"><!----></a><code class="code code-width-limited"><a href="#xpl3-docbook-to-pdf.xpl"><span class="link">docbook-to-pdf.xpl</span></a></code></td><td id="d3702e2391"><a name="d3702e2391"><!----></a><a name="d3702e2392"><!----></a>This turns Docbook (5.1) into a PDF using FOP.</td></tr><tr id="d3702e2394"><td id="d3702e2395"><a name="d3702e2395"><!----></a><a name="d3702e2396"><!----></a><code class="code code-width-limited"><a href="#xpl3-docbook-to-xhtml.xpl"><span class="link">docbook-to-xhtml.xpl</span></a></code></td><td id="d3702e2400"><a name="d3702e2400"><!----></a><a name="d3702e2401"><!----></a>This turns Docbook (5.1) into XHTML.</td></tr><tr id="d3702e2403"><td id="d3702e2404"><a name="d3702e2404"><!----></a><a name="d3702e2405"><!----></a><code class="code code-width-limited"><a href="#xpl3-xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook.xpl</span></a></code></td><td id="d3702e2409"><a name="d3702e2409"><!----></a><a name="d3702e2410"><!----></a>XProc 3.0 pipeline that transforms a DocBook source containing <code class="code">xdoc</code> extensions into "pure" DocBook format.</td></tr><tr id="d3702e2415"><td id="d3702e2416"><a name="d3702e2416"><!----></a><a name="d3702e2417"><!----></a><code class="code code-width-limited"><a href="#xpl3-xdoc-to-pdf.xpl"><span class="link">xdoc-to-pdf.xpl</span></a></code></td><td id="d3702e2421"><a name="d3702e2421"><!----></a><a name="d3702e2422"><!----></a>Convenience pipeline: Combines the <a href="5_XProc_1.0_support.html#xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook</span></a> and the <a href="5_XProc_1.0_support.html#docbook-to-pdf.xpl"><span class="link">docbook-to-pdf</span></a> steps in one.</td></tr><tr id="d3702e2430"><td id="d3702e2431"><a name="d3702e2431"><!----></a><a name="d3702e2432"><!----></a><code class="code code-width-limited"><a href="#xpl3-xdoc-to-xhtml.xpl"><span class="link">xdoc-to-xhtml.xpl</span></a></code></td><td id="d3702e2436"><a name="d3702e2436"><!----></a><a name="d3702e2437"><!----></a>Convenience pipeline: Combines the <a href="5_XProc_1.0_support.html#xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook</span></a> and the <a href="5_XProc_1.0_support.html#docbook-to-xhtml.xpl"><span class="link">docbook-to-xhtml</span></a> steps in one.</td></tr></tbody></table></div><div class="sect1" id="xpl3-docbook-to-pdf.xpl"><a name="xpl3-docbook-to-pdf.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">4.1</span> XProc (3.0) pipeline: <code class="code">docbook-to-pdf.xpl</code></h2><p class="para keep-with-next" id="d3702e2450"><a name="d3702e2450"><!----></a>File: <code class="code">xpl3/docbook-to-pdf.xpl</code></p><p class="para" id="d3702e2454"><a name="d3702e2454"><!----></a>Type: <code class="code">xdoc:docbook-to-pdf</code></p><p class="para" id="d3702e2458"><a name="d3702e2458"><!----></a>This turns Docbook (5.1) into a PDF using FOP.</p><p class="para" id="d3702e2460"><a name="d3702e2460"><!----></a>All necessary <code class="code">xdoc</code> pre-processing (usually with <a href="5_XProc_1.0_support.html#xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook.xpl</span></a>) must have been done.</p><p class="para" id="d3702e2468"><a name="d3702e2468"><!----></a>It will only convert a <a href="6_DocBook_dialect.html#xdoc-docbook-dialect"><span class="link">partial DocBook tagset</span></a>.</p><p class="para" id="d3702e2473"><a name="d3702e2473"><!----></a>If you don't use <a href="5_XProc_1.0_support.html#xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook.xpl</span></a>, you have to make sure to get correct <code class="code">xml:base</code> attributes in, so the pipeline can find includes and images. The following XProc (1.0) code takes care of that:</p><div class="programlisting" id="d3702e2481"><a name="d3702e2481"><!----></a><pre class="programlisting">&lt;p:xinclude&gt;
  &lt;p:with-option name="fixup-xml-base" select="true()"/&gt;
&lt;/p:xinclude&gt;
&lt;p:add-attribute attribute-name="xml:base" match="/*"&gt;
  &lt;p:with-option name="attribute-value" select="/reference/to/source/document.xml"/&gt;
&lt;/p:add-attribute&gt;</pre></div><div class="table nonumber" id="d3702e2483"><a name="d3702e2483"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e2490" class="thead-light"><tr id="d3702e2491"><th id="d3702e2492"><a name="d3702e2492"><!----></a>Port</th><th id="d3702e2494"><a name="d3702e2494"><!----></a>Type</th><th id="d3702e2496"><a name="d3702e2496"><!----></a>Primary?</th><th id="d3702e2498"><a name="d3702e2498"><!----></a>Description</th></tr></thead><tbody id="d3702e2500"><tr id="d3702e2501"><td id="d3702e2502"><a name="d3702e2502"><!----></a><a name="d3702e2503"><!----></a><code class="code code-width-limited">source</code></td><td id="d3702e2506"><a name="d3702e2506"><!----></a>in</td><td id="d3702e2508"><a name="d3702e2508"><!----></a>yes</td><td id="d3702e2510"><a name="d3702e2510"><!----></a><a name="d3702e2511"><!----></a>The Docbook source document, fully expanded (with appropriate <code class="code">xml:base</code> attributes)</td></tr><tr id="d3702e2516"><td id="d3702e2517"><a name="d3702e2517"><!----></a><a name="d3702e2518"><!----></a><code class="code code-width-limited">result</code></td><td id="d3702e2521"><a name="d3702e2521"><!----></a>out</td><td id="d3702e2523"><a name="d3702e2523"><!----></a>yes</td><td id="d3702e2525"><a name="d3702e2525"><!----></a><a name="d3702e2526"><!----></a>A small report thingie</td></tr></tbody></table></div><div class="table nonumber" id="d3702e2528"><a name="d3702e2528"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e2536" class="thead-light"><tr id="d3702e2537"><th id="d3702e2538"><a name="d3702e2538"><!----></a>Option</th><th id="d3702e2540"><a name="d3702e2540"><!----></a>Type</th><th id="d3702e2542"><a name="d3702e2542"><!----></a>Rq?</th><th id="d3702e2544"><a name="d3702e2544"><!----></a>Default</th><th id="d3702e2546"><a name="d3702e2546"><!----></a>Description</th></tr></thead><tbody id="d3702e2548"><tr id="d3702e2549"><td id="d3702e2550"><a name="d3702e2550"><!----></a><a name="d3702e2551"><!----></a><code class="code code-width-limited">chapter-id</code></td><td id="d3702e2554"><a name="d3702e2554"><!----></a><a name="d3702e2555"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e2558"><a name="d3702e2558"><!----></a><a name="d3702e2559"><!----></a> </td><td id="d3702e2561"><a name="d3702e2561"><!----></a><a name="d3702e2562"><!----></a><code class="code code-width-limited">''</code></td><td id="d3702e2565"><a name="d3702e2565"><!----></a><a name="d3702e2566"><!----></a>Specific chapter identifier to output.</td></tr><tr id="d3702e2568"><td id="d3702e2569"><a name="d3702e2569"><!----></a><a name="d3702e2570"><!----></a><code class="code code-width-limited">create-pdf</code></td><td id="d3702e2573"><a name="d3702e2573"><!----></a><a name="d3702e2574"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e2577"><a name="d3702e2577"><!----></a><a name="d3702e2578"><!----></a> </td><td id="d3702e2580"><a name="d3702e2580"><!----></a><a name="d3702e2581"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e2584"><a name="d3702e2584"><!----></a><a name="d3702e2585"><!----></a>Whether to actually create the PDF.</td></tr><tr id="d3702e2587"><td id="d3702e2588"><a name="d3702e2588"><!----></a><a name="d3702e2589"><!----></a><code class="code code-width-limited">fop-config</code></td><td id="d3702e2592"><a name="d3702e2592"><!----></a><a name="d3702e2593"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e2596"><a name="d3702e2596"><!----></a><a name="d3702e2597"><!----></a> </td><td id="d3702e2599"><a name="d3702e2599"><!----></a><a name="d3702e2600"><!----></a><code class="code code-width-limited">resolve-uri('../../xtpxlib-common/data/fop-default-config.xml', static-base-uri())</code></td><td id="d3702e2603"><a name="d3702e2603"><!----></a><a name="d3702e2604"><!----></a>Reference to the FOP configuration file</td></tr><tr id="d3702e2606"><td id="d3702e2607"><a name="d3702e2607"><!----></a><a name="d3702e2608"><!----></a><code class="code code-width-limited">global-resources-directory</code></td><td id="d3702e2611"><a name="d3702e2611"><!----></a><a name="d3702e2612"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e2615"><a name="d3702e2615"><!----></a><a name="d3702e2616"><!----></a> </td><td id="d3702e2618"><a name="d3702e2618"><!----></a><a name="d3702e2619"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e2622"><a name="d3702e2622"><!----></a><a name="d3702e2623"><!----></a>Images that are tagged as <code class="code">role="global"</code> are searched here (discarding any directory information in the image's URI)</td></tr><tr id="d3702e2628"><td id="d3702e2629"><a name="d3702e2629"><!----></a><a name="d3702e2630"><!----></a><code class="code code-width-limited">href-pdf</code></td><td id="d3702e2633"><a name="d3702e2633"><!----></a><a name="d3702e2634"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e2637"><a name="d3702e2637"><!----></a><a name="d3702e2638"><!----></a>yes</td><td id="d3702e2640"><a name="d3702e2640"><!----></a><a name="d3702e2641"><!----></a><code class="code code-width-limited"/></td><td id="d3702e2643"><a name="d3702e2643"><!----></a><a name="d3702e2644"><!----></a>The name of the resulting PDF file, as a URI (an absolute path must have <code class="code">file://</code> in front).</td></tr><tr id="d3702e2649"><td id="d3702e2650"><a name="d3702e2650"><!----></a><a name="d3702e2651"><!----></a><code class="code code-width-limited">href-xsl-fo</code></td><td id="d3702e2654"><a name="d3702e2654"><!----></a><a name="d3702e2655"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e2658"><a name="d3702e2658"><!----></a><a name="d3702e2659"><!----></a> </td><td id="d3702e2661"><a name="d3702e2661"><!----></a><a name="d3702e2662"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e2665"><a name="d3702e2665"><!----></a><a name="d3702e2666"><!----></a>If set, writes the intermediate XSL-FO to this href (so you can inspect it when things go wrong in FOP)</td></tr><tr id="d3702e2668"><td id="d3702e2669"><a name="d3702e2669"><!----></a><a name="d3702e2670"><!----></a><code class="code code-width-limited">main-font-size</code></td><td id="d3702e2673"><a name="d3702e2673"><!----></a><a name="d3702e2674"><!----></a><code class="code code-width-limited">xs:integer</code></td><td id="d3702e2677"><a name="d3702e2677"><!----></a><a name="d3702e2678"><!----></a> </td><td id="d3702e2680"><a name="d3702e2680"><!----></a><a name="d3702e2681"><!----></a><code class="code code-width-limited">10</code></td><td id="d3702e2684"><a name="d3702e2684"><!----></a><a name="d3702e2685"><!----></a>Main font size as an integer. Usual values somewhere between 8 and 10.</td></tr><tr id="d3702e2687"><td id="d3702e2688"><a name="d3702e2688"><!----></a><a name="d3702e2689"><!----></a><code class="code code-width-limited">output-type</code></td><td id="d3702e2692"><a name="d3702e2692"><!----></a><a name="d3702e2693"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e2696"><a name="d3702e2696"><!----></a><a name="d3702e2697"><!----></a> </td><td id="d3702e2699"><a name="d3702e2699"><!----></a><a name="d3702e2700"><!----></a><code class="code code-width-limited">'a4'</code></td><td id="d3702e2703"><a name="d3702e2703"><!----></a><a name="d3702e2704"><!----></a>Output type. Use either <code class="code">a4</code> or <code class="code">sb</code> (= standard book size)</td></tr><tr id="d3702e2712"><td id="d3702e2713"><a name="d3702e2713"><!----></a><a name="d3702e2714"><!----></a><code class="code code-width-limited">preliminary-version</code></td><td id="d3702e2717"><a name="d3702e2717"><!----></a><a name="d3702e2718"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e2721"><a name="d3702e2721"><!----></a><a name="d3702e2722"><!----></a> </td><td id="d3702e2724"><a name="d3702e2724"><!----></a><a name="d3702e2725"><!----></a><code class="code code-width-limited">false()</code></td><td id="d3702e2728"><a name="d3702e2728"><!----></a><a name="d3702e2729"><!----></a>If <code class="code">true</code>, adds a preliminary version marker and output any <code class="code">db:remark</code> elements. If <code class="code">false</code>, output of <code class="code">db:remark</code> elements will be suppressed.</td></tr></tbody></table></div></div><div class="sect1" id="xpl3-docbook-to-xhtml.xpl"><a name="xpl3-docbook-to-xhtml.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">4.2</span> XProc (3.0) pipeline: <code class="code">docbook-to-xhtml.xpl</code></h2><p class="para keep-with-next" id="d3702e2748"><a name="d3702e2748"><!----></a>File: <code class="code">xpl3/docbook-to-xhtml.xpl</code></p><p class="para" id="d3702e2752"><a name="d3702e2752"><!----></a>Type: <code class="code">xdoc:docbook-to-xhtml</code></p><p class="para" id="d3702e2756"><a name="d3702e2756"><!----></a>This turns Docbook (5.1) into XHTML.</p><p class="para" id="d3702e2758"><a name="d3702e2758"><!----></a>All necessary <code class="code">xdoc</code> pre-processing (usually with <a href="5_XProc_1.0_support.html#xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook.xpl</span></a>) must have been done.</p><p class="para" id="d3702e2766"><a name="d3702e2766"><!----></a>It will only convert a <a href="6_DocBook_dialect.html#xdoc-docbook-dialect"><span class="link">partial DocBook tagset</span></a>.</p><p class="para" id="d3702e2771"><a name="d3702e2771"><!----></a>The resulting XHTML will not be directly useable, post-processing the result into a complete and correct HTML page is necessary. The result of this pipeline consists of nested <code class="code">div</code> elements. There is no surrounding <code class="code">html</code> or <code class="code">body</code> element.</p><div class="table nonumber" id="d3702e2782"><a name="d3702e2782"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e2789" class="thead-light"><tr id="d3702e2790"><th id="d3702e2791"><a name="d3702e2791"><!----></a>Port</th><th id="d3702e2793"><a name="d3702e2793"><!----></a>Type</th><th id="d3702e2795"><a name="d3702e2795"><!----></a>Primary?</th><th id="d3702e2797"><a name="d3702e2797"><!----></a>Description</th></tr></thead><tbody id="d3702e2799"><tr id="d3702e2800"><td id="d3702e2801"><a name="d3702e2801"><!----></a><a name="d3702e2802"><!----></a><code class="code code-width-limited">source</code></td><td id="d3702e2805"><a name="d3702e2805"><!----></a>in</td><td id="d3702e2807"><a name="d3702e2807"><!----></a>yes</td><td id="d3702e2809"><a name="d3702e2809"><!----></a><a name="d3702e2810"><!----></a>The docbook source document.</td></tr><tr id="d3702e2812"><td id="d3702e2813"><a name="d3702e2813"><!----></a><a name="d3702e2814"><!----></a><code class="code code-width-limited">result</code></td><td id="d3702e2817"><a name="d3702e2817"><!----></a>out</td><td id="d3702e2819"><a name="d3702e2819"><!----></a>yes</td><td id="d3702e2821"><a name="d3702e2821"><!----></a><a name="d3702e2822"><!----></a>The resulting XHTML</td></tr></tbody></table></div><div class="table nonumber" id="d3702e2824"><a name="d3702e2824"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e2832" class="thead-light"><tr id="d3702e2833"><th id="d3702e2834"><a name="d3702e2834"><!----></a>Option</th><th id="d3702e2836"><a name="d3702e2836"><!----></a>Type</th><th id="d3702e2838"><a name="d3702e2838"><!----></a>Rq?</th><th id="d3702e2840"><a name="d3702e2840"><!----></a>Default</th><th id="d3702e2842"><a name="d3702e2842"><!----></a>Description</th></tr></thead><tbody id="d3702e2844"><tr id="d3702e2845"><td id="d3702e2846"><a name="d3702e2846"><!----></a><a name="d3702e2847"><!----></a><code class="code code-width-limited">add-identifiers</code></td><td id="d3702e2850"><a name="d3702e2850"><!----></a><a name="d3702e2851"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e2854"><a name="d3702e2854"><!----></a><a name="d3702e2855"><!----></a> </td><td id="d3702e2857"><a name="d3702e2857"><!----></a><a name="d3702e2858"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e2861"><a name="d3702e2861"><!----></a><a name="d3702e2862"><!----></a>Add identifiers to elements when no @xml:id is present.</td></tr><tr id="d3702e2864"><td id="d3702e2865"><a name="d3702e2865"><!----></a><a name="d3702e2866"><!----></a><code class="code code-width-limited">add-numbering</code></td><td id="d3702e2869"><a name="d3702e2869"><!----></a><a name="d3702e2870"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e2873"><a name="d3702e2873"><!----></a><a name="d3702e2874"><!----></a> </td><td id="d3702e2876"><a name="d3702e2876"><!----></a><a name="d3702e2877"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e2880"><a name="d3702e2880"><!----></a><a name="d3702e2881"><!----></a>Add numbering to sections, tables, examples, etc.</td></tr><tr id="d3702e2883"><td id="d3702e2884"><a name="d3702e2884"><!----></a><a name="d3702e2885"><!----></a><code class="code code-width-limited">add-roles-as-classes</code></td><td id="d3702e2888"><a name="d3702e2888"><!----></a><a name="d3702e2889"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e2892"><a name="d3702e2892"><!----></a><a name="d3702e2893"><!----></a> </td><td id="d3702e2895"><a name="d3702e2895"><!----></a><a name="d3702e2896"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e2899"><a name="d3702e2899"><!----></a><a name="d3702e2900"><!----></a>Add any roles as classes to the end result.</td></tr><tr id="d3702e2902"><td id="d3702e2903"><a name="d3702e2903"><!----></a><a name="d3702e2904"><!----></a><code class="code code-width-limited">create-header</code></td><td id="d3702e2907"><a name="d3702e2907"><!----></a><a name="d3702e2908"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e2911"><a name="d3702e2911"><!----></a><a name="d3702e2912"><!----></a> </td><td id="d3702e2914"><a name="d3702e2914"><!----></a><a name="d3702e2915"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e2918"><a name="d3702e2918"><!----></a><a name="d3702e2919"><!----></a>Create some header construct</td></tr></tbody></table></div></div><div class="sect1" id="xpl3-xdoc-to-docbook.xpl"><a name="xpl3-xdoc-to-docbook.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">4.3</span> XProc (3.0) pipeline: <code class="code">xdoc-to-docbook.xpl</code></h2><p class="para keep-with-next" id="d3702e2926"><a name="d3702e2926"><!----></a>File: <code class="code">xpl3/xdoc-to-docbook.xpl</code></p><p class="para" id="d3702e2930"><a name="d3702e2930"><!----></a>Type: <code class="code">xdoc:xdoc-to-docbook</code></p><p class="para" id="d3702e2934"><a name="d3702e2934"><!----></a>XProc 3.0 pipeline that transforms a DocBook source containing <code class="code">xdoc</code> extensions into "pure" DocBook format.</p><div class="table nonumber" id="d3702e2939"><a name="d3702e2939"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e2946" class="thead-light"><tr id="d3702e2947"><th id="d3702e2948"><a name="d3702e2948"><!----></a>Port</th><th id="d3702e2950"><a name="d3702e2950"><!----></a>Type</th><th id="d3702e2952"><a name="d3702e2952"><!----></a>Primary?</th><th id="d3702e2954"><a name="d3702e2954"><!----></a>Description</th></tr></thead><tbody id="d3702e2956"><tr id="d3702e2957"><td id="d3702e2958"><a name="d3702e2958"><!----></a><a name="d3702e2959"><!----></a><code class="code code-width-limited">source</code></td><td id="d3702e2962"><a name="d3702e2962"><!----></a>in</td><td id="d3702e2964"><a name="d3702e2964"><!----></a>yes</td><td id="d3702e2966"><a name="d3702e2966"><!----></a><a name="d3702e2967"><!----></a>The DocBook source with <code class="code">xdoc</code> extensions</td></tr><tr id="d3702e2972"><td id="d3702e2973"><a name="d3702e2973"><!----></a><a name="d3702e2974"><!----></a><code class="code code-width-limited">result</code></td><td id="d3702e2977"><a name="d3702e2977"><!----></a>out</td><td id="d3702e2979"><a name="d3702e2979"><!----></a>yes</td><td id="d3702e2981"><a name="d3702e2981"><!----></a><a name="d3702e2982"><!----></a>The resulting DocBook.</td></tr></tbody></table></div><div class="table nonumber" id="d3702e2984"><a name="d3702e2984"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e2992" class="thead-light"><tr id="d3702e2993"><th id="d3702e2994"><a name="d3702e2994"><!----></a>Option</th><th id="d3702e2996"><a name="d3702e2996"><!----></a>Type</th><th id="d3702e2998"><a name="d3702e2998"><!----></a>Rq?</th><th id="d3702e3000"><a name="d3702e3000"><!----></a>Default</th><th id="d3702e3002"><a name="d3702e3002"><!----></a>Description</th></tr></thead><tbody id="d3702e3004"><tr id="d3702e3005"><td id="d3702e3006"><a name="d3702e3006"><!----></a><a name="d3702e3007"><!----></a><code class="code code-width-limited">alttarget</code></td><td id="d3702e3010"><a name="d3702e3010"><!----></a><a name="d3702e3011"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e3014"><a name="d3702e3014"><!----></a><a name="d3702e3015"><!----></a> </td><td id="d3702e3017"><a name="d3702e3017"><!----></a><a name="d3702e3018"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e3021"><a name="d3702e3021"><!----></a><a name="d3702e3022"><!----></a>The target for applying alternate settings.</td></tr><tr id="d3702e3024"><td id="d3702e3025"><a name="d3702e3025"><!----></a><a name="d3702e3026"><!----></a><code class="code code-width-limited">href-parameters</code></td><td id="d3702e3029"><a name="d3702e3029"><!----></a><a name="d3702e3030"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e3033"><a name="d3702e3033"><!----></a><a name="d3702e3034"><!----></a> </td><td id="d3702e3036"><a name="d3702e3036"><!----></a><a name="d3702e3037"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e3040"><a name="d3702e3040"><!----></a><a name="d3702e3041"><!----></a>Optional reference to a document with parameter settings. See <a href="https://common.xtpxlib.org/1_Description.html#parameters-explanation"><span class="link">here</span></a> for details.</td></tr><tr id="d3702e3046"><td id="d3702e3047"><a name="d3702e3047"><!----></a><a name="d3702e3048"><!----></a><code class="code code-width-limited">parameter-filters-map</code></td><td id="d3702e3051"><a name="d3702e3051"><!----></a><a name="d3702e3052"><!----></a><code class="code code-width-limited">map(xs:string, xs:string)</code></td><td id="d3702e3055"><a name="d3702e3055"><!----></a><a name="d3702e3056"><!----></a> </td><td id="d3702e3058"><a name="d3702e3058"><!----></a><a name="d3702e3059"><!----></a><code class="code code-width-limited">map{}</code></td><td id="d3702e3062"><a name="d3702e3062"><!----></a><a name="d3702e3063"><!----></a>Optional filter settings for processing the parameters.</td></tr></tbody></table></div></div><div class="sect1" id="xpl3-xdoc-to-pdf.xpl"><a name="xpl3-xdoc-to-pdf.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">4.4</span> XProc (3.0) pipeline: <code class="code">xdoc-to-pdf.xpl</code></h2><p class="para keep-with-next" id="d3702e3070"><a name="d3702e3070"><!----></a>File: <code class="code">xpl3/xdoc-to-pdf.xpl</code></p><p class="para" id="d3702e3074"><a name="d3702e3074"><!----></a>Type: <code class="code">xdoc:xdoc-to-pdf</code></p><p class="para" id="d3702e3078"><a name="d3702e3078"><!----></a>Convenience pipeline: Combines the <a href="5_XProc_1.0_support.html#xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook</span></a> and the <a href="5_XProc_1.0_support.html#docbook-to-pdf.xpl"><span class="link">docbook-to-pdf</span></a> steps in one.</p><div class="table nonumber" id="d3702e3086"><a name="d3702e3086"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e3093" class="thead-light"><tr id="d3702e3094"><th id="d3702e3095"><a name="d3702e3095"><!----></a>Port</th><th id="d3702e3097"><a name="d3702e3097"><!----></a>Type</th><th id="d3702e3099"><a name="d3702e3099"><!----></a>Primary?</th><th id="d3702e3101"><a name="d3702e3101"><!----></a>Description</th></tr></thead><tbody id="d3702e3103"><tr id="d3702e3104"><td id="d3702e3105"><a name="d3702e3105"><!----></a><a name="d3702e3106"><!----></a><code class="code code-width-limited">source</code></td><td id="d3702e3109"><a name="d3702e3109"><!----></a>in</td><td id="d3702e3111"><a name="d3702e3111"><!----></a>yes</td><td id="d3702e3113"><a name="d3702e3113"><!----></a><a name="d3702e3114"><!----></a>The Docbook source, with option al <code class="code">xdoc</code> extensions.</td></tr><tr id="d3702e3119"><td id="d3702e3120"><a name="d3702e3120"><!----></a><a name="d3702e3121"><!----></a><code class="code code-width-limited">result</code></td><td id="d3702e3124"><a name="d3702e3124"><!----></a>out</td><td id="d3702e3126"><a name="d3702e3126"><!----></a>yes</td><td id="d3702e3128"><a name="d3702e3128"><!----></a><a name="d3702e3129"><!----></a>A small report thingie</td></tr></tbody></table></div><div class="table nonumber" id="d3702e3131"><a name="d3702e3131"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e3139" class="thead-light"><tr id="d3702e3140"><th id="d3702e3141"><a name="d3702e3141"><!----></a>Option</th><th id="d3702e3143"><a name="d3702e3143"><!----></a>Type</th><th id="d3702e3145"><a name="d3702e3145"><!----></a>Rq?</th><th id="d3702e3147"><a name="d3702e3147"><!----></a>Default</th><th id="d3702e3149"><a name="d3702e3149"><!----></a>Description</th></tr></thead><tbody id="d3702e3151"><tr id="d3702e3152"><td id="d3702e3153"><a name="d3702e3153"><!----></a><a name="d3702e3154"><!----></a><code class="code code-width-limited">alttarget</code></td><td id="d3702e3157"><a name="d3702e3157"><!----></a><a name="d3702e3158"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e3161"><a name="d3702e3161"><!----></a><a name="d3702e3162"><!----></a> </td><td id="d3702e3164"><a name="d3702e3164"><!----></a><a name="d3702e3165"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e3168"><a name="d3702e3168"><!----></a><a name="d3702e3169"><!----></a>The target for applying alternate settings.</td></tr><tr id="d3702e3171"><td id="d3702e3172"><a name="d3702e3172"><!----></a><a name="d3702e3173"><!----></a><code class="code code-width-limited">chapter-id</code></td><td id="d3702e3176"><a name="d3702e3176"><!----></a><a name="d3702e3177"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e3180"><a name="d3702e3180"><!----></a><a name="d3702e3181"><!----></a> </td><td id="d3702e3183"><a name="d3702e3183"><!----></a><a name="d3702e3184"><!----></a><code class="code code-width-limited">''</code></td><td id="d3702e3187"><a name="d3702e3187"><!----></a><a name="d3702e3188"><!----></a>Specific chapter identifier to output.</td></tr><tr id="d3702e3190"><td id="d3702e3191"><a name="d3702e3191"><!----></a><a name="d3702e3192"><!----></a><code class="code code-width-limited">create-pdf</code></td><td id="d3702e3195"><a name="d3702e3195"><!----></a><a name="d3702e3196"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e3199"><a name="d3702e3199"><!----></a><a name="d3702e3200"><!----></a> </td><td id="d3702e3202"><a name="d3702e3202"><!----></a><a name="d3702e3203"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e3206"><a name="d3702e3206"><!----></a><a name="d3702e3207"><!----></a>Whether to actually create the PDF.</td></tr><tr id="d3702e3209"><td id="d3702e3210"><a name="d3702e3210"><!----></a><a name="d3702e3211"><!----></a><code class="code code-width-limited">fop-config</code></td><td id="d3702e3214"><a name="d3702e3214"><!----></a><a name="d3702e3215"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e3218"><a name="d3702e3218"><!----></a><a name="d3702e3219"><!----></a> </td><td id="d3702e3221"><a name="d3702e3221"><!----></a><a name="d3702e3222"><!----></a><code class="code code-width-limited">resolve-uri('../../xtpxlib-common/data/fop-default-config.xml', static-base-uri())</code></td><td id="d3702e3225"><a name="d3702e3225"><!----></a><a name="d3702e3226"><!----></a>Reference to the FOP configuration file</td></tr><tr id="d3702e3228"><td id="d3702e3229"><a name="d3702e3229"><!----></a><a name="d3702e3230"><!----></a><code class="code code-width-limited">global-resources-directory</code></td><td id="d3702e3233"><a name="d3702e3233"><!----></a><a name="d3702e3234"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e3237"><a name="d3702e3237"><!----></a><a name="d3702e3238"><!----></a> </td><td id="d3702e3240"><a name="d3702e3240"><!----></a><a name="d3702e3241"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e3244"><a name="d3702e3244"><!----></a><a name="d3702e3245"><!----></a>Images that are tagged as <code class="code">role="global"</code> are searched here (discarding any directory information in the image's URI)</td></tr><tr id="d3702e3250"><td id="d3702e3251"><a name="d3702e3251"><!----></a><a name="d3702e3252"><!----></a><code class="code code-width-limited">href-docbook</code></td><td id="d3702e3255"><a name="d3702e3255"><!----></a><a name="d3702e3256"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e3259"><a name="d3702e3259"><!----></a><a name="d3702e3260"><!----></a> </td><td id="d3702e3262"><a name="d3702e3262"><!----></a><a name="d3702e3263"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e3266"><a name="d3702e3266"><!----></a><a name="d3702e3267"><!----></a>If set, writes the intermediate full DocBook to this href (so you can inspect it when things go wrong)</td></tr><tr id="d3702e3269"><td id="d3702e3270"><a name="d3702e3270"><!----></a><a name="d3702e3271"><!----></a><code class="code code-width-limited">href-parameters</code></td><td id="d3702e3274"><a name="d3702e3274"><!----></a><a name="d3702e3275"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e3278"><a name="d3702e3278"><!----></a><a name="d3702e3279"><!----></a> </td><td id="d3702e3281"><a name="d3702e3281"><!----></a><a name="d3702e3282"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e3285"><a name="d3702e3285"><!----></a><a name="d3702e3286"><!----></a>Optional reference to a document with parameter settings. See <a href="https://common.xtpxlib.org/1_Description.html#parameters-explanation"><span class="link">here</span></a> for details.</td></tr><tr id="d3702e3291"><td id="d3702e3292"><a name="d3702e3292"><!----></a><a name="d3702e3293"><!----></a><code class="code code-width-limited">href-pdf</code></td><td id="d3702e3296"><a name="d3702e3296"><!----></a><a name="d3702e3297"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e3300"><a name="d3702e3300"><!----></a><a name="d3702e3301"><!----></a>yes</td><td id="d3702e3303"><a name="d3702e3303"><!----></a><a name="d3702e3304"><!----></a><code class="code code-width-limited"/></td><td id="d3702e3306"><a name="d3702e3306"><!----></a><a name="d3702e3307"><!----></a>The name of the resulting PDF file, as a URI (an absolute path must have <code class="code">file://</code> in front).</td></tr><tr id="d3702e3312"><td id="d3702e3313"><a name="d3702e3313"><!----></a><a name="d3702e3314"><!----></a><code class="code code-width-limited">href-xsl-fo</code></td><td id="d3702e3317"><a name="d3702e3317"><!----></a><a name="d3702e3318"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e3321"><a name="d3702e3321"><!----></a><a name="d3702e3322"><!----></a> </td><td id="d3702e3324"><a name="d3702e3324"><!----></a><a name="d3702e3325"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e3328"><a name="d3702e3328"><!----></a><a name="d3702e3329"><!----></a>If set, writes the intermediate XSL-FO to this href (so you can inspect it when things go wrong in FOP)</td></tr><tr id="d3702e3331"><td id="d3702e3332"><a name="d3702e3332"><!----></a><a name="d3702e3333"><!----></a><code class="code code-width-limited">main-font-size</code></td><td id="d3702e3336"><a name="d3702e3336"><!----></a><a name="d3702e3337"><!----></a><code class="code code-width-limited">xs:integer</code></td><td id="d3702e3340"><a name="d3702e3340"><!----></a><a name="d3702e3341"><!----></a> </td><td id="d3702e3343"><a name="d3702e3343"><!----></a><a name="d3702e3344"><!----></a><code class="code code-width-limited">10</code></td><td id="d3702e3347"><a name="d3702e3347"><!----></a><a name="d3702e3348"><!----></a>Main font size as an integer. Usual values somewhere between 8 and 10.</td></tr><tr id="d3702e3350"><td id="d3702e3351"><a name="d3702e3351"><!----></a><a name="d3702e3352"><!----></a><code class="code code-width-limited">output-type</code></td><td id="d3702e3355"><a name="d3702e3355"><!----></a><a name="d3702e3356"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d3702e3359"><a name="d3702e3359"><!----></a><a name="d3702e3360"><!----></a> </td><td id="d3702e3362"><a name="d3702e3362"><!----></a><a name="d3702e3363"><!----></a><code class="code code-width-limited">'a4'</code></td><td id="d3702e3366"><a name="d3702e3366"><!----></a><a name="d3702e3367"><!----></a>Output type. Use either <code class="code">a4</code> or <code class="code">sb</code> (= standard book size)</td></tr><tr id="d3702e3376"><td id="d3702e3377"><a name="d3702e3377"><!----></a><a name="d3702e3378"><!----></a><code class="code code-width-limited">parameter-filters-map</code></td><td id="d3702e3381"><a name="d3702e3381"><!----></a><a name="d3702e3382"><!----></a><code class="code code-width-limited">map(xs:string, xs:string)</code></td><td id="d3702e3385"><a name="d3702e3385"><!----></a><a name="d3702e3386"><!----></a> </td><td id="d3702e3388"><a name="d3702e3388"><!----></a><a name="d3702e3389"><!----></a><code class="code code-width-limited">map{}</code></td><td id="d3702e3392"><a name="d3702e3392"><!----></a><a name="d3702e3393"><!----></a>Optional filter settings for processing the parameters.</td></tr><tr id="d3702e3395"><td id="d3702e3396"><a name="d3702e3396"><!----></a><a name="d3702e3397"><!----></a><code class="code code-width-limited">preliminary-version</code></td><td id="d3702e3400"><a name="d3702e3400"><!----></a><a name="d3702e3401"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e3404"><a name="d3702e3404"><!----></a><a name="d3702e3405"><!----></a> </td><td id="d3702e3407"><a name="d3702e3407"><!----></a><a name="d3702e3408"><!----></a><code class="code code-width-limited">false()</code></td><td id="d3702e3411"><a name="d3702e3411"><!----></a><a name="d3702e3412"><!----></a>If <code class="code">true</code>, adds a preliminary version marker and output any <code class="code">db:remark</code> elements. If <code class="code">false</code>, output of <code class="code">db:remark</code> elements will be suppressed.</td></tr></tbody></table></div></div><div class="sect1" id="xpl3-xdoc-to-xhtml.xpl"><a name="xpl3-xdoc-to-xhtml.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">4.5</span> XProc (3.0) pipeline: <code class="code">xdoc-to-xhtml.xpl</code></h2><p class="para keep-with-next" id="d3702e3431"><a name="d3702e3431"><!----></a>File: <code class="code">xpl3/xdoc-to-xhtml.xpl</code></p><p class="para" id="d3702e3435"><a name="d3702e3435"><!----></a>Type: <code class="code">xdoc:xdoc-to-xhtml</code></p><p class="para" id="d3702e3439"><a name="d3702e3439"><!----></a>Convenience pipeline: Combines the <a href="5_XProc_1.0_support.html#xdoc-to-docbook.xpl"><span class="link">xdoc-to-docbook</span></a> and the <a href="5_XProc_1.0_support.html#docbook-to-xhtml.xpl"><span class="link">docbook-to-xhtml</span></a> steps in one.</p><div class="table nonumber" id="d3702e3447"><a name="d3702e3447"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e3454" class="thead-light"><tr id="d3702e3455"><th id="d3702e3456"><a name="d3702e3456"><!----></a>Port</th><th id="d3702e3458"><a name="d3702e3458"><!----></a>Type</th><th id="d3702e3460"><a name="d3702e3460"><!----></a>Primary?</th><th id="d3702e3462"><a name="d3702e3462"><!----></a>Description</th></tr></thead><tbody id="d3702e3464"><tr id="d3702e3465"><td id="d3702e3466"><a name="d3702e3466"><!----></a><a name="d3702e3467"><!----></a><code class="code code-width-limited">source</code></td><td id="d3702e3470"><a name="d3702e3470"><!----></a>in</td><td id="d3702e3472"><a name="d3702e3472"><!----></a>yes</td><td id="d3702e3474"><a name="d3702e3474"><!----></a><a name="d3702e3475"><!----></a>The Docbook source, with option al <code class="code">xdoc</code> extensions.</td></tr><tr id="d3702e3480"><td id="d3702e3481"><a name="d3702e3481"><!----></a><a name="d3702e3482"><!----></a><code class="code code-width-limited">result</code></td><td id="d3702e3485"><a name="d3702e3485"><!----></a>out</td><td id="d3702e3487"><a name="d3702e3487"><!----></a>yes</td><td id="d3702e3489"><a name="d3702e3489"><!----></a><a name="d3702e3490"><!----></a>The resulting XHTML.</td></tr></tbody></table></div><div class="table nonumber" id="d3702e3492"><a name="d3702e3492"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e3500" class="thead-light"><tr id="d3702e3501"><th id="d3702e3502"><a name="d3702e3502"><!----></a>Option</th><th id="d3702e3504"><a name="d3702e3504"><!----></a>Type</th><th id="d3702e3506"><a name="d3702e3506"><!----></a>Rq?</th><th id="d3702e3508"><a name="d3702e3508"><!----></a>Default</th><th id="d3702e3510"><a name="d3702e3510"><!----></a>Description</th></tr></thead><tbody id="d3702e3512"><tr id="d3702e3513"><td id="d3702e3514"><a name="d3702e3514"><!----></a><a name="d3702e3515"><!----></a><code class="code code-width-limited">add-identifiers</code></td><td id="d3702e3518"><a name="d3702e3518"><!----></a><a name="d3702e3519"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e3522"><a name="d3702e3522"><!----></a><a name="d3702e3523"><!----></a> </td><td id="d3702e3525"><a name="d3702e3525"><!----></a><a name="d3702e3526"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e3529"><a name="d3702e3529"><!----></a><a name="d3702e3530"><!----></a>Add identifiers to elements when no @xml:id is present.</td></tr><tr id="d3702e3532"><td id="d3702e3533"><a name="d3702e3533"><!----></a><a name="d3702e3534"><!----></a><code class="code code-width-limited">add-numbering</code></td><td id="d3702e3537"><a name="d3702e3537"><!----></a><a name="d3702e3538"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e3541"><a name="d3702e3541"><!----></a><a name="d3702e3542"><!----></a> </td><td id="d3702e3544"><a name="d3702e3544"><!----></a><a name="d3702e3545"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e3548"><a name="d3702e3548"><!----></a><a name="d3702e3549"><!----></a>Add numbering to sections, tables, examples, etc.</td></tr><tr id="d3702e3551"><td id="d3702e3552"><a name="d3702e3552"><!----></a><a name="d3702e3553"><!----></a><code class="code code-width-limited">add-roles-as-classes</code></td><td id="d3702e3556"><a name="d3702e3556"><!----></a><a name="d3702e3557"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e3560"><a name="d3702e3560"><!----></a><a name="d3702e3561"><!----></a> </td><td id="d3702e3563"><a name="d3702e3563"><!----></a><a name="d3702e3564"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e3567"><a name="d3702e3567"><!----></a><a name="d3702e3568"><!----></a>Add any roles as classes to the end result.</td></tr><tr id="d3702e3570"><td id="d3702e3571"><a name="d3702e3571"><!----></a><a name="d3702e3572"><!----></a><code class="code code-width-limited">alttarget</code></td><td id="d3702e3575"><a name="d3702e3575"><!----></a><a name="d3702e3576"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e3579"><a name="d3702e3579"><!----></a><a name="d3702e3580"><!----></a> </td><td id="d3702e3582"><a name="d3702e3582"><!----></a><a name="d3702e3583"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e3586"><a name="d3702e3586"><!----></a><a name="d3702e3587"><!----></a>The target for applying alternate settings.</td></tr><tr id="d3702e3589"><td id="d3702e3590"><a name="d3702e3590"><!----></a><a name="d3702e3591"><!----></a><code class="code code-width-limited">create-header</code></td><td id="d3702e3594"><a name="d3702e3594"><!----></a><a name="d3702e3595"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d3702e3598"><a name="d3702e3598"><!----></a><a name="d3702e3599"><!----></a> </td><td id="d3702e3601"><a name="d3702e3601"><!----></a><a name="d3702e3602"><!----></a><code class="code code-width-limited">true()</code></td><td id="d3702e3605"><a name="d3702e3605"><!----></a><a name="d3702e3606"><!----></a>Create some header construct</td></tr><tr id="d3702e3608"><td id="d3702e3609"><a name="d3702e3609"><!----></a><a name="d3702e3610"><!----></a><code class="code code-width-limited">href-docbook</code></td><td id="d3702e3613"><a name="d3702e3613"><!----></a><a name="d3702e3614"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e3617"><a name="d3702e3617"><!----></a><a name="d3702e3618"><!----></a> </td><td id="d3702e3620"><a name="d3702e3620"><!----></a><a name="d3702e3621"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e3624"><a name="d3702e3624"><!----></a><a name="d3702e3625"><!----></a>If set, writes the intermediate full DocBook to this href (so you can inspect it when things go wrong)</td></tr><tr id="d3702e3627"><td id="d3702e3628"><a name="d3702e3628"><!----></a><a name="d3702e3629"><!----></a><code class="code code-width-limited">href-parameters</code></td><td id="d3702e3632"><a name="d3702e3632"><!----></a><a name="d3702e3633"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d3702e3636"><a name="d3702e3636"><!----></a><a name="d3702e3637"><!----></a> </td><td id="d3702e3639"><a name="d3702e3639"><!----></a><a name="d3702e3640"><!----></a><code class="code code-width-limited">()</code></td><td id="d3702e3643"><a name="d3702e3643"><!----></a><a name="d3702e3644"><!----></a>Optional reference to a document with parameter settings. See <a href="https://common.xtpxlib.org/1_Description.html#parameters-explanation"><span class="link">here</span></a> for details.</td></tr><tr id="d3702e3649"><td id="d3702e3650"><a name="d3702e3650"><!----></a><a name="d3702e3651"><!----></a><code class="code code-width-limited">parameter-filters-map</code></td><td id="d3702e3654"><a name="d3702e3654"><!----></a><a name="d3702e3655"><!----></a><code class="code code-width-limited">map(xs:string, xs:string)</code></td><td id="d3702e3658"><a name="d3702e3658"><!----></a><a name="d3702e3659"><!----></a> </td><td id="d3702e3661"><a name="d3702e3661"><!----></a><a name="d3702e3662"><!----></a><code class="code code-width-limited">map{}</code></td><td id="d3702e3665"><a name="d3702e3665"><!----></a><a name="d3702e3666"><!----></a>Optional filter settings for processing the parameters.</td></tr></tbody></table></div></div><div class="table" id="d3702e3670"><a name="d3702e3670"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e3676" class="thead-light"><tr id="d3702e3677"><th id="d3702e3678"><a name="d3702e3678"><!----></a>Module/Pipeline</th><th id="d3702e3680"><a name="d3702e3680"><!----></a>Description</th></tr></thead><tbody id="d3702e3682"><tr id="d3702e3683"><td id="d3702e3684"><a name="d3702e3684"><!----></a><a name="d3702e3685"><!----></a><code class="code code-width-limited"><a href="#xpl3-xtpxlib-xdoc.mod.xpl"><span class="link">xtpxlib-xdoc.mod.xpl</span></a></code></td><td id="d3702e3689"><a name="d3702e3689"><!----></a><a name="d3702e3690"><!----></a>Library with support pipelines for <code class="code">xdoc</code> and related conversions.</td></tr></tbody></table></div><div class="sect1" id="xpl3-xtpxlib-xdoc.mod.xpl"><a name="xpl3-xtpxlib-xdoc.mod.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">4.6</span> XProc (3.0) library: <code class="code">xtpxlib-xdoc.mod.xpl</code></h2><p class="para keep-with-next" id="d3702e3700"><a name="d3702e3700"><!----></a>File: <code class="code">xpl3mod/xtpxlib-xdoc.mod/xtpxlib-xdoc.mod.xpl</code></p><p class="para" id="d3702e3704"><a name="d3702e3704"><!----></a>Library with support pipelines for <code class="code">xdoc</code> and related conversions.</p><div class="table nonumber" id="d3702e3709"><a name="d3702e3709"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e3714" class="thead-light"><tr id="d3702e3715"><th id="d3702e3716"><a name="d3702e3716"><!----></a>Prefix</th><th id="d3702e3718"><a name="d3702e3718"><!----></a>Namespace URI</th></tr></thead><tbody id="d3702e3720"><tr id="d3702e3721"><td id="d3702e3722"><a name="d3702e3722"><!----></a><a name="d3702e3723"><!----></a><code class="code code-width-limited">xdoc</code></td><td id="d3702e3726"><a name="d3702e3726"><!----></a><a name="d3702e3727"><!----></a><code class="code">http://www.xtpxlib.nl/ns/xdoc</code></td></tr></tbody></table></div><div class="sect2" id="xpl3-xtpxlib-xdoc.mod.xpl-xdoc_markdown-to-docbook"><a name="xpl3-xtpxlib-xdoc.mod.xpl-xdoc_markdown-to-docbook"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.6.1</span> Step: <code class="code">xdoc:markdown-to-docbook</code></h3><p class="para" id="d3702e3735"><a name="d3702e3735"><!----></a>Converts the contents of <code class="code">xdoc:MARKDOWN</code> elements into DocBook.</p><p class="para" id="d3702e3740"><a name="d3702e3740"><!----></a>This pipeline checks the incoming XML for <code class="code">xdoc:MARKDOWN</code> elements. The contents of these elements is assumed to contain Markdown. The pipeline tries to convert this into DocBook. The <code class="code">xdoc:MARKDOWN</code> element is removed/unwrapped.</p><p class="para" id="d3702e3748"><a name="d3702e3748"><!----></a>The following rules apply:</p><ul class="itemizedlist" id="d3702e3750"><a name="d3702e3750"><!----></a><li id="d3702e3751"><a name="d3702e3751"><!----></a><p class="para" id="d3702e3752"><a name="d3702e3752"><!----></a>The contents of an <code class="code">xdoc:MARKDOWN</code> element is stringified (so any child elements are lost).</p></li><li id="d3702e3757"><a name="d3702e3757"><!----></a><p class="para" id="d3702e3758"><a name="d3702e3758"><!----></a>The resulting text can be indented, using space characters only (no tabs!). The non-empty line with the <span class="emphasis italic">minimum</span> indent is assumed to be its left margin.</p></li><li id="d3702e3763"><a name="d3702e3763"><!----></a><p class="para" id="d3702e3764"><a name="d3702e3764"><!----></a>Only simple Markdown is supported. Specifically:</p><ul class="itemizedlist" id="d3702e3766"><a name="d3702e3766"><!----></a><li id="d3702e3767"><a name="d3702e3767"><!----></a><p class="para" id="d3702e3768"><a name="d3702e3768"><!----></a>Inline markup for emphasis, bold, code, etc.</p></li><li id="d3702e3770"><a name="d3702e3770"><!----></a><p class="para" id="d3702e3771"><a name="d3702e3771"><!----></a>Links. A link target starting with a <code class="code">%</code> is handled as an <span class="emphasis italic">internal</span> link (the <code class="code">@xml:id</code> of something in the encompassing DocBook).</p></li><li id="d3702e3782"><a name="d3702e3782"><!----></a><p class="para" id="d3702e3783"><a name="d3702e3783"><!----></a>Code blocks (using three consecutive back-ticks)</p></li><li id="d3702e3785"><a name="d3702e3785"><!----></a><p class="para" id="d3702e3786"><a name="d3702e3786"><!----></a>Headers (these are all converted into the same DocBook <code class="code">bridgehead</code> elements)</p></li></ul></li><li id="d3702e3791"><a name="d3702e3791"><!----></a><p class="para" id="d3702e3792"><a name="d3702e3792"><!----></a>Specifically not supported (yet?) are tables.</p></li></ul><p class="para" id="d3702e3794"><a name="d3702e3794"><!----></a>If you add an <code class="code">header-only="true"</code> attribute to the <code class="code">xdoc:MARKDOWN</code> element, only the first paragraph will be output.</p><div class="table nonumber" id="d3702e3802"><a name="d3702e3802"><!----></a><table class="table table-sm table-bordered"><thead id="d3702e3809" class="thead-light"><tr id="d3702e3810"><th id="d3702e3811"><a name="d3702e3811"><!----></a>Port</th><th id="d3702e3813"><a name="d3702e3813"><!----></a>Type</th><th id="d3702e3815"><a name="d3702e3815"><!----></a>Primary?</th><th id="d3702e3817"><a name="d3702e3817"><!----></a>Description</th></tr></thead><tbody id="d3702e3819"><tr id="d3702e3820"><td id="d3702e3821"><a name="d3702e3821"><!----></a><a name="d3702e3822"><!----></a><code class="code code-width-limited">source</code></td><td id="d3702e3825"><a name="d3702e3825"><!----></a>in</td><td id="d3702e3827"><a name="d3702e3827"><!----></a>yes</td><td id="d3702e3829"><a name="d3702e3829"><!----></a><a name="d3702e3830"><!----></a>Any XML that might contain <code class="code">xdoc:MARKDOWN</code> elements for conversion.</td></tr><tr id="d3702e3835"><td id="d3702e3836"><a name="d3702e3836"><!----></a><a name="d3702e3837"><!----></a><code class="code code-width-limited">result</code></td><td id="d3702e3840"><a name="d3702e3840"><!----></a>out</td><td id="d3702e3842"><a name="d3702e3842"><!----></a>yes</td><td id="d3702e3844"><a name="d3702e3844"><!----></a><a name="d3702e3845"><!----></a>The same XML but with the <code class="code">xdoc:MARKDOWN</code> element's contents converted into DocBook.</td></tr></tbody></table></div></div></div></div><script src="resources/jquery-3.4.1.slim.min.js"><!--  --></script><script src="resources/popper.min.js"><!--  --></script><script src="resources/bootstrap.min.js"><!--  --></script></body>
</html>