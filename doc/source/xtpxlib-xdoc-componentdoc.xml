<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="../../xsd/docbook/docbook.nvdl" type="application/xml" schematypens="http://purl.oclc.org/dsdl/nvdl/ns/structure/1.0"?>
<book xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:xdoc="http://www.xtpxlib.nl/ns/xdoc" version="5.0">

  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

  <info>
    <title>{$component-name}</title>
    <subtitle>An xtpxlib component for generating documentation</subtitle>
    <pubdate>{$DATE}</pubdate>
    <author>
      <personname>Erik&#160;Siegel</personname>
    </author>
    <orgname>Xatapult</orgname>
  </info>

  <!-- ================================================================== -->

  <preface>
    <title>Documentation generation with {$component-name}</title>

    <para>Component <emphasis role="bold"><code>{$component-name}</code></emphasis> version 1.1 - 2019-11-21</para>
    <para>Xatapult Content Engineering - <link xlink:href="http://www.xatapult.nl"/></para>
    <para>Erik Siegel - <link xlink:href="mailto:erik@xatapult.nl">erik@xatapult.nl</link> - +31&#160;6&#160;53260792</para>
    <para role="break"/>

    <para><emphasis role="bold"><code>{$component-name}</code></emphasis> is a component for generating documentation. It uses <link
        xlink:href="https://docbook.org/" role="newpage">DocBook&#160;5.1</link> + additional markup and has (currently) PDF and XHTML as output
      formats. It can also generate component documentation (like you're looking at now), as a simple website and PDF.</para>

    <para><emphasis role="bold"><code>{$component-name}</code></emphasis> is part of the <emphasis role="bold"><code>xtpxlib</code></emphasis>
      library. <emphasis role="bold"><code>xtpxlib</code></emphasis> contains software for processing XML, using languages like XSLT and XProc. It
      consists of several separate components, named <code>xtpxlib-*</code>. Everything can be found on GitHub (<link
        xlink:href="https://github.com/xatapult"/>). The core component of <code>xtpxlib</code> is <link
        xlink:href="https://github.com/xatapult/xtpxlib-common"><code>xtpxlib-common</code></link>. Most components will be accompanied by a GitHub
      pages documentation site (<link xlink:href="TBD"/>).</para>

    <para role="break-before keep-with-next"><emphasis role="bold"><code>{$component-name}</code></emphasis>'s main points:</para>
    <itemizedlist>
      <listitem>
        <para><emphasis role="bold"><code>{$component-name}</code></emphasis>'s starting point is documentation written in <link
            xlink:href="https://docbook.org/" role="newpage">DocBook&#160;5.1</link> plus extensions. This source format is called <emphasis
            role="bold italic"><code>xdoc</code></emphasis>.</para>
      </listitem>
      <listitem>
        <para><code>xdoc</code> has two kinds of extensions:</para>
        <itemizedlist>
          <listitem>
            <para>Parameters, coming from a parameter file, that are expanded. This useful for, for instance, status information, dates/times,
              standard words and phrases, etc. [TBD LINK]</para>
          </listitem>
          <listitem>
            <para>The so-called <link linkend="chapter-xdoc-transforms"><code>xdoc</code> transforms</link>. These transformations convert something
              into DocBook and insert the result back in the main document. This is used for, for instance code documentation generation. There are
              standard transformations but you can also write your own (in XSLT or XProc).</para>
          </listitem>
        </itemizedlist>
      </listitem>
      <listitem>
        <para>An <code>xdoc</code> document can be converted into pure DocBook by an XProc pipeline [TBD LINK]</para>
      </listitem>
      <listitem>
        <para>Additional XProc pipelines [TBD LINK] convert this DocBook into PDF (through XSL-FO) or basic XHTML.</para>
      </listitem>
      <listitem>
        <para>This mechanism also serves as a basis for documentation generation of complete software components [TBD LINK]. The result's are meant to
          be used as GitHub pages.</para>
      </listitem>
      <listitem>
        <para>Noteworthy additional functionality is an XProc module [TBD LINK] that converts (simple) Markdown into DocBook.</para>
      </listitem>
    </itemizedlist>
    <para>An extensive explanation of <emphasis role="bold"><code>{$component-name}</code></emphasis> can be found <link linkend="sect-explanation"
        >here</link>.</para>

    <para role="break-before keep-with-next"><emphasis role="bold"><code>{$component-name}</code></emphasis> is created by:</para>
    <para>
      <link xlink:href="http://www.xatapult.com" role="newpage">
        <inlinemediaobject role="global">
          <imageobject>
            <imagedata fileref="resources/logo-xatapult.jpg" width="20%"/>
          </imageobject>
        </inlinemediaobject>
      </link>
    </para>

  </preface>

  <!-- ================================================================== -->

  <chapter>
    <title>Introduction</title>

    <sect1>
      <title>Installing and running {$component-name}</title>

      <para>[TBD]</para>
    </sect1>

    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

    <sect1 xml:id="sect-explanation">
      <title>How does {$component-name} work?</title>

      <para>[TBD] xdoc to docbook to ...</para>
      <para>The <code>xtpxlib-xdoc</code> module uses DocBook&#160;5.1 as its target vocabulary. However, it does not implement the full standard
        (which is huge!) but only those elements/attributes that were deemed necessary. The <code>xtpxlib-xdoc</code> component adds several
        extensions which are tested by running this document through the conversion pipelines. This means it also serves as partial documentation and
        example.</para>
    </sect1>




  </chapter>

  <!-- ================================================================== -->

  <chapter>
    <title>Code documentation</title>

    <xdoc:transform href="$xdoc/code-docgen/code-docgen.xpl" filecomponents="2">
      <xi:include href="../../xpl/xdoc-to-componentdoc-website.xpl"/>
    </xdoc:transform>

  </chapter>

  <!-- ================================================================== -->

  <chapter xml:id="chapter-xdoc-transforms">
    <title>xdoc transforms</title>

    <para>[TBD]</para>

  </chapter>

  <!-- ================================================================== -->

  <chapter>
    <title>DocBook dialect</title>

    <para>[TBD]</para>

  </chapter>


  <!-- ================================================================== -->

  <!--<chapter>
    <title>Stuff 1</title>


    <para>Link to another chapter: <xref linkend="second-stuff"/></para>
    <para>Link to this chapter: <xref linkend="hiero"/></para>

    <!-\- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\->

    <sect1 xml:id="hiero">
      <title>Parameters</title>
      <xdoc:dump-parameters type="table"/>
    </sect1>

    <!-\- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\->

    <!-\- <sect1>
      <title>Coming from transformations</title>
      <para>Comes from an XProc transformation:</para>
      <xdoc:transform href="transforms/test.xpl"/>
      <para role="break-before">Comes from an XSLT transformation:</para>
      <xdoc:transform href="transforms/test.xsl"/>
    </sect1>
  </chapter>-\->

    <!-\- ================================================================== -\->

    <!-\-<chapter xml:id="second-stuff">
    <title>Stuff 2</title>
    <sect1>
      <title>XML Descriptions</title>

      <xdoc:transform href="$xdoc/xml-description/xml-description.xpl">
        <xi:include href="data/test.xml"/>
      </xdoc:transform>

    </sect1>

    <!-\\- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\\->

    <sect1>
      <title>Documentation generation</title>

      <!-\\-<sect2>
        <title>XSLT Module</title>
        <xdoc:transform href="$xdoc/docgen/docgen.xpl" filecomponents="1">
          <xi:include href="data/test.mod.xsl"/>
        </xdoc:transform>
      </sect2>

      <sect2>
        <title>XPROC Module</title>
        <xdoc:transform href="$xdoc/docgen/docgen.xpl" filecomponents="2">
          <xi:include href="data/test.mod.xpl"/>
        </xdoc:transform>
      </sect2>

      <sect2>
        <title>XPROC Step</title>
        <xdoc:transform href="$xdoc/docgen/docgen.xpl">
          <xi:include href="data/test.xpl"/>
        </xdoc:transform>
      </sect2>

      <sect2>
        <title>XSD</title>
        <xdoc:transform href="$xdoc/docgen/docgen.xpl" filecomponents="0">
          <xi:include href="data/test.xsd"/>
        </xdoc:transform>
      </sect2>

      <sect2>
        <title>XML</title>
        <xdoc:transform href="$xdoc/docgen/docgen.xpl" filecomponents="-1">
          <xi:include href="data/test.xml"/>
        </xdoc:transform>
      </sect2>-\\->

    </sect1>
-\->
  </chapter>-->

</book>
