<?xml version="1.0" encoding="UTF-8"?>

<?xml-model href="../xsd/docbook/docbook.nvdl" type="application/xml" schematypens="http://purl.oclc.org/dsdl/nvdl/ns/structure/1.0"?>
<book xml:base="file:///C:/Data/Erik/work/xatapult/xtpxlib-xdoc/test/xdoc-docbook-test-3.xml"
      version="5.0"
      xmlns="http://docbook.org/ns/docbook"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      xmlns:xdoc="http://www.xtpxlib.nl/ns/xdoc"
      xmlns:xlink="http://www.w3.org/1999/xlink">
   <!-- == No alttarget set == -->
   <!-- Test input, XProc 3 version -->
   <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
   <info>
      <title>xtpxlib/xdoc module</title>
      <subtitle>Test document</subtitle>
      <pubdate>2019</pubdate>
      <author>
         <personname>Erik Siegel</personname>
      </author>
      <orgname>Xatapult</orgname>
      <mediaobject role="top-logo">
         <imageobject>
            <imagedata fileref="figures/logo-xatapult.jpg"
                       width="20%"/>
         </imageobject>
      </mediaobject>
      <mediaobject role="center-page">
         <imageobject>
            <imagedata fileref="figures/Xatapult%20X.jpg"
                       width="200%"/>
         </imageobject>
      </mediaobject>
   </info>
   <!-- ================================================================== -->
   <chapter>
      <title>Introduction</title>
      <warning>
         <para>This document is for testing the features of the 
<code>xtpxlib-xdoc</code> component.</para>
      </warning>
      <para>The 
<code>xtpxlib-xdoc</code> module uses DocBook 5.1 as its target vocabulary. However, it does not implement the full standard (which
      is huge!) but only those elements/attributes that were deemed necessary. The 
<code>xtpxlib-xdoc</code> component adds several extensions which
      are tested by running this document through the conversion pipelines. This means it also serves as partial documentation and example.</para>
   </chapter>
   <!-- ================================================================== -->
   <chapter>
      <title>Stuff</title>
      <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
      <sect1>
         <title>Parameters</title>
         <table>
            <title>Parameters</title>
            <tgroup cols="2">
               <colspec colname="c1"
                        colnum="1"/>
               <colspec colname="c2"
                        colnum="2"/>
               <thead>
                  <row>
                     <entry>Parameter</entry>
                     <entry>Value</entry>
                  </row>
               </thead>
               <tbody>
                  <row>
                     <entry>
                        <para>
                           <code>DATE</code>
                        </para>
                     </entry>
                     <entry>
                        <para>
                           <code>2023-06-13</code>
                        </para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <para>
                           <code>DATETIME</code>
                        </para>
                     </entry>
                     <entry>
                        <para>
                           <code>20:24:31</code>
                        </para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <para>
                           <code>HREF-SOURCE</code>
                        </para>
                     </entry>
                     <entry>
                        <para>
                           <code>C:/Data/Erik/work/xatapult/xtpxlib-xdoc/test/xdoc-docbook-test-3.xml</code>
                        </para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <para>
                           <code>TIME</code>
                        </para>
                     </entry>
                     <entry>
                        <para>
                           <code>20:24:31</code>
                        </para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <para>
                           <code>include-file</code>
                        </para>
                     </entry>
                     <entry>
                        <para>
                           <code>external-chapter.xml</code>
                        </para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <para>
                           <code>test</code>
                        </para>
                     </entry>
                     <entry>
                        <para>
                           <code>test production test development</code>
                        </para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <para>
                           <code>x</code>
                        </para>
                     </entry>
                     <entry>
                        <para>
                           <code>xxx</code>
                        </para>
                     </entry>
                  </row>
               </tbody>
            </tgroup>
         </table>
      </sect1>
      <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
      <sect1>
         <title>test production</title>
         <para>Comes from an XProc transformation:</para>
         <para>Line 1 from test.xpl at 2023-06-13T20:24:31.41+02:00</para>
         <para>Line 2 from test.xpl</para>
         <para role="break-before">Comes from an XSLT transformation:</para>
         <para>From the test.xsl</para>
      </sect1>
      <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
      <sect1>
         <title>XML Descriptions</title>
         <programlisting xml:id="declare-step-description-xlisting">&lt;p:declare-step name? = xs:NCName
                type? = xs:QName
                psvi-required? = xs:boolean
                xpath-version? = xs:decimal
                exclude-inline-prefixes? = xs:string
                version? = xs:decimal
                visibility? = "public" | "private" &gt;
  ( &lt;p:import&gt; |
    &lt;p:import-functions&gt; )*
  ( &lt;p:input&gt; |
    &lt;p:output&gt; |
    &lt;p:option&gt; |
    &lt;p:variable&gt; )*
  &lt;p:declare-step&gt;*
  &lt;!-- Step's body… --&gt;
&lt;/p:declare-step&gt;</programlisting>
         <para>Main description of p:declare-step...</para>
         <para role="halfbreak"/>
         <para>The attribute-table-header, yoho!</para>
         <table role="nonumber"
                xml:id="declare-step-description-attributes">
            <title/>
            <tgroup cols="4">
               <colspec colname="name"
                        role="code-width-cm:1.2-4"/>
               <colspec colname="occurrences"
                        colwidth="0.35cm"/>
               <colspec colname="type"
                        colwidth="3.5cm"/>
               <colspec colname="description"/>
               <thead>
                  <row>
                     <entry>Attribute</entry>
                     <entry>#</entry>
                     <entry>Type</entry>
                     <entry>Description</entry>
                  </row>
               </thead>
               <tbody>
                  <row>
                     <entry>
                        <code role="code-width-limited">name</code>
                     </entry>
                     <entry>
                        <para>?</para>
                     </entry>
                     <entry>
                        <para>
                           <code role="code-width-limited">xs:NCName</code>
                        </para>
                        <para>Bla bla bla additioal type description</para>
                     </entry>
                     <entry>
                        <para>The name of this step. You need this name to refer to its ports from within the step itself.</para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <code role="code-width-limited">type</code>
                     </entry>
                     <entry>
                        <para>?</para>
                     </entry>
                     <entry>
                        <para>
                           <code role="code-width-limited">xs:QName</code>
                        </para>
                     </entry>
                     <entry>
                        <para>The value of the 
<code>type</code> attribute is used to invoke/call this step.</para>
                        <para>A step's type 
<emphasis>must</emphasis> always be in a namespace, so it 
<emphasis>must</emphasis> use a namespace prefix (and of course
        this prefix must be declared). You cannot use the XProc 
<code>p:</code> namespace.</para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <code role="code-width-limited">psvi-required</code>
                     </entry>
                     <entry>
                        <para>?</para>
                     </entry>
                     <entry>
                        <para>
                           <code role="code-width-limited">xs:boolean</code>
                        </para>
                     </entry>
                     <entry>
                        <para>Default: 
<code>false</code>
                        </para>
                        <para>Whether or not PSVI ("Post Schema Validation Infoset") support is required.</para>
                        <para>PSVI allows you to carry type information together with your XML document. PSVI information is added when validating documents against a
        schema. Advanced XSLT and other transformations can use this to make decisions based on the type of something (e.g. elements or
        attributes).</para>
                        <para>If your XProc transformation requires PSVI support, set this attribute to 
<code>true</code>. This will make sure that non-PSVI-supporting
        XProc processors will not even dare to execute them.</para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <code role="code-width-limited">xpath-version</code>
                     </entry>
                     <entry>
                        <para>?</para>
                     </entry>
                     <entry>
                        <para>
                           <code role="code-width-limited">xs:decimal</code>
                        </para>
                     </entry>
                     <entry>
                        <para>Default: 
<code>3.1</code>
                        </para>
                        <para>The XPath version that must be used for evaluating the XPath expressions within the pipeline.</para>
                        <para>The only value XProc 3.0 processors are required to support is 
<code>3.1</code>. It's not allowed to specify a version lower than
          
<code>3.1</code> and whether your XProc processor supports higher values is implementation defined. Versions </para>
                        <para>If a new version of XPath arrives (if ever) 
<emphasis>and</emphasis> the latest and greatest release of your XProc processor starts
        supporting this, there might be a good reason to change it to the new (higher) value. In all other cases I would say: don't bother.</para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <code role="code-width-limited">exclude-inline-prefixes</code>
                     </entry>
                     <entry>
                        <para>?</para>
                     </entry>
                     <entry>
                        <para>
                           <code role="code-width-limited">xs:string</code>
                        </para>
                     </entry>
                     <entry>
                        <para>Defines what to do with inline namespace definitions in your documents </para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <code role="code-width-limited">version</code>
                     </entry>
                     <entry>
                        <para>?</para>
                     </entry>
                     <entry>
                        <para>
                           <code role="code-width-limited">xs:decimal</code>
                        </para>
                     </entry>
                     <entry>
                        <para>This identifies the XProc version for your pipeline.</para>
                        <para>
                           <emphasis role="bold">Important:</emphasis> This attribute is 
<emphasis>mandatory</emphasis> on 
<tag>p:declare-step</tag> elements that
        are the root element of a document. It is 
<emphasis>optional</emphasis> on nested 
<tag>p:declare-step</tag> elements (if not set, these
        inherit the version setting from their parent).</para>
                        <para>If specified, its value 
<emphasis>must</emphasis> be 
<code>3.0</code>. Specifying a different value is an error. </para>
                        <para>
                        </para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <code role="code-width-limited">visibility</code>
                     </entry>
                     <entry>
                        <para>?</para>
                     </entry>
                     <entry>
                        <para>
                           <code role="code-width-limited">xs:string</code>
                        </para>
                     </entry>
                     <entry>
                        <para>Default: 
<code>public</code>
                        </para>
                        <para>Controls whether this step is visible for the importing pipeline when part of a library (
<tag>p:library</tag>, see . If this step is not
        part of a library the attribute is ignored.</para>
                        <table role="nonumber"
                               xml:id="declare-step-description-enums-visibility">
                           <title/>
                           <tgroup cols="2">
                              <colspec colname="value"
                                       role="code-width-cm:0.8-2"/>
                              <colspec colname="description"/>
                              <thead>
                                 <row>
                                    <entry>Value</entry>
                                    <entry>Description</entry>
                                 </row>
                              </thead>
                              <tbody>
                                 <row>
                                    <entry>
                                       <code role="code-width-limited">public</code>
                                    </entry>
                                    <entry>
                                       <para>The step is visible to the importing pipeline</para>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                                       <code role="code-width-limited">private</code>
                                    </entry>
                                    <entry>
                                       <para>The step is 
<emphasis>in</emphasis>visible to the importing pipeline and can only be used in the library itself.</para>
                                    </entry>
                                 </row>
                              </tbody>
                           </tgroup>
                        </table>
                        <para role="smallbreak"/>
                     </entry>
                  </row>
               </tbody>
            </tgroup>
         </table>
         <para role="halfbreak"/>
         <para>The elements in the prolog of a 
<tag>p:declare-step</tag> are about:</para>
         <itemizedlist>
            <listitem>
               <para>Imports of external XProc pipelines, libraries or XPath function libraries.</para>
            </listitem>
            <listitem>
               <para>Declaring static variables.</para>
            </listitem>
            <listitem>
               <para>Declarations of input ports, output ports, options and/or variables.</para>
            </listitem>
            <listitem>
               <para>Declarations of locally defined steps.</para>
            </listitem>
         </itemizedlist>
         <table role="nonumber"
                xml:id="declare-step-description-child-elements">
            <title/>
            <tgroup cols="3">
               <colspec colname="name"
                        role="code-width-cm:1.2-4"/>
               <colspec colname="occurrences"
                        colwidth="0.35cm"/>
               <colspec colname="description"/>
               <thead>
                  <row>
                     <entry>Child element</entry>
                     <entry>#</entry>
                     <entry>Description</entry>
                  </row>
               </thead>
               <tbody>
                  <row>
                     <entry>
                        <code role="code-width-limited">p:import</code>
                     </entry>
                     <entry>
                        <para>*</para>
                     </entry>
                     <entry>
                        <para>Imports a step from an external source.</para>
                        <para>You can also use this to import step 
<emphasis>libraries</emphasis>.</para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <code role="code-width-limited">p:import-functions</code>
                     </entry>
                     <entry>
                        <para>*</para>
                     </entry>
                     <entry>
                        <para>Imports functions (not global variables) from another language so these become useable inside the XPath expressions in your pipeline.
          The most common ones are XSLT and XQuery libraries, but other languages are not ruled out. Whether importing functions is supported is
          implementation specific.</para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <code role="code-width-limited">p:input</code>
                     </entry>
                     <entry>
                        <para>*</para>
                     </entry>
                     <entry>
                        <para>Declares an input port for this step.</para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <code role="code-width-limited">p:output</code>
                     </entry>
                     <entry>
                        <para>*</para>
                     </entry>
                     <entry>
                        <para>Declares an output port for this step.</para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <code role="code-width-limited">p:option</code>
                     </entry>
                     <entry>
                        <para>*</para>
                     </entry>
                     <entry>
                        <para>Declares an option for this step.</para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <code role="code-width-limited">p:variable</code>
                     </entry>
                     <entry>
                        <para>*</para>
                     </entry>
                     <entry>
                        <para>Declares a variable.</para>
                        <para>Variables declared in the prolog must be 
<emphasis>static</emphasis> (they must always carry the 
<code>static="true"</code> attribute).</para>
                     </entry>
                  </row>
                  <row>
                     <entry>
                        <code role="code-width-limited">p:declare-step</code>
                     </entry>
                     <entry>
                        <para>*</para>
                     </entry>
                     <entry>
                        <para>Use nested 
<tag>p:declare-step</tag> elements to declare steps that are local to the encompassing step. The effect is the same as for
        steps imported by a 
<tag>p:import</tag> element.</para>
                        <para>You may also use this element to declare an 
<emphasis>atomic step</emphasis>.</para>
                     </entry>
                  </row>
               </tbody>
            </tgroup>
         </table>
      </sect1>
      <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
      <sect1>
         <title>Documentation generation</title>
         <sect2>
            <title>XSLT Module</title>
            <bridgehead xml:id="test.mod.xsl">XSLT (3.0): 
<code>test.mod.xsl</code>
            </bridgehead>
            <para role="keep-with-next">File: 
<code>test.mod.xsl</code>
            </para>
            <para>XSLT library module with general constants and code.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="2">
                  <colspec role="code-width-cm:2-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Prefix</entry>
                        <entry>Namespace URI</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xtlc</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code>http://www.xtpxlib.nl/ns/common</code>
                           </para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <table role="nonumber">
               <title/>
               <tgroup cols="5">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec colwidth="0.7cm"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Rq?</entry>
                        <entry>Default</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xyz</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>yes</para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>Trala la la</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xyz2</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">'yeah'</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Trala la la more...</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Variable</entry>
                        <entry>Type</entry>
                        <entry>Value</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xtlc:default-dt-format</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">'[Y]-[M01]-[D01] [H01]:[m01]:[s01]'</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Default date/time format string (yyyy-mm-dd ...).</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xtlc:default-dt-format-en</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">'[M01]-[D01]-[Y] [H01]:[m01]:[s01]'</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Date/time format string (English: mm-dd-yyyy ...).</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xtlc:default-dt-format-nl</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">'[D01]-[M01]-[Y] [H01]:[m01]:[s01]'</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Date/time format string (Dutch: dd-mm-yyyy ...).</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xtlc:internal-error-prompt</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">'Internal error: '</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Add this in front of any internal error raised.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xtlc:language-en</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">'en'</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Language code for English</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xtlc:language-nl</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">'nl'</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Language code for Dutch</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xtlc:namespace-xtlc-common</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">namespace-uri-for-prefix('xtlc', doc('')/*)</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Name of the xtpxlib common namespace.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xtlc:status-codes</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string+</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">($xtlc:status-info, $xtlc:status-warning, $xtlc:status-error, $xtlc:status-debug)</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Sequence with all valid status codes.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xtlc:status-debug</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">'debug'</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Generic debug status/severity code.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xtlc:status-error</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">'error'</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Generic error status/severity code.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xtlc:status-info</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">'info'</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Generic info (a.k.a. OK) status/severity code.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xtlc:status-warning</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">'warning'</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Generic warning status/severity code.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <table role="nonumber">
               <title/>
               <tgroup cols="2">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Named template</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xsl-xtlc_raise-error-2">xtlc:raise-error</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Stops any processing by raising an error.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <table role="nonumber">
               <title/>
               <tgroup cols="2">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Function</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xsl-xtlc_att2str-1">xtlc:att2str()</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Turns an attribute into a string representation, suitable for display.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xsl-xtlc_capitalize-1">xtlc:capitalize()</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Capitalizes a string (makes the first character uppercase).</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xsl-xtlc_char-repeat-2">xtlc:char-repeat()</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Returns a string with a single character repeated a given number of times.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xsl-xtlc_elm2str-1">xtlc:elm2str()</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Turns an element into a descriptive string (the element with all the attributes (excluding schema references).</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xsl-xtlc_item2element-2">xtlc:item2element()</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Tries to find the element belonging to a given item:</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xsl-xtlc_items2str-1">xtlc:items2str()</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Creates a string from a sequence of items. Useful for easy creation of messages consisting of multiple parts and pieces.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xsl-xtlc_prefix-to-length-3">xtlc:prefix-to-length()</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Prefixes a string with a given character so it will get at least a given length.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xsl-xtlc_q-1">xtlc:q()</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Returns the input string quoted ("$in")</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xsl-xtlc_str2bln-2">xtlc:str2bln()</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Safe conversion of a string into a boolean. When $in is empty or not convertible into a boolean, $default is returned.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xsl-xtlc_str2id-2">xtlc:str2id()</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Turns a string into a valid identifier, adding a prefix. All characters that are not allowed in an identifier are converted into underscores. When the result does not start with a letter or underscore, the extra prefix 'id-' is added.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xsl-xtlc_str2id-1">xtlc:str2id()</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Turns a string into a valid identifier. All characters that are not allowed in an identifier are converted into underscores. When the result does not start with a letter or underscore, the extra prefix 'id-' is added.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xsl-xtlc_str2int-2">xtlc:str2int()</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Safe conversion of a string into an integer. When $in is empty or not convertible into an integer, $default is returned.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xsl-xtlc_str2seq-1">xtlc:str2seq()</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Converts a string with a list of words into a sequence of words.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xsl-xtlc_raise-error-2">Named template: 
<code>xtlc:raise-error</code>
            </bridgehead>
            <para>Stops any processing by raising an error.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="5">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec colwidth="0.7cm"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Rq?</entry>
                        <entry>Default</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">error-name</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">$xtlc:status-error</code>
                           </para>
                        </entry>
                        <entry>
                           <para>The (optional) name of the error. Must be a NCName.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">msg-parts</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">item()+</code>
                           </para>
                        </entry>
                        <entry>
                           <para>yes</para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>Error message to show (in parts, all parts will be concatenated by xtlc:items2str()).</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xsl-xtlc_att2str-1">Function: 
<code>xtlc:att2str() as xs:string</code>
            </bridgehead>
            <para>Turns an attribute into a string representation, suitable for display.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="3">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">att</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">attribute()?</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Attribute to convert.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xsl-xtlc_capitalize-1">Function: 
<code>xtlc:capitalize() as xs:string</code>
            </bridgehead>
            <para>Capitalizes a string (makes the first character uppercase).</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="3">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">in</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>The string to work on.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xsl-xtlc_char-repeat-2">Function: 
<code>xtlc:char-repeat() as xs:string</code>
            </bridgehead>
            <para>Returns a string with a single character repeated a given number of times.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="3">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">char</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>The first character of this string is the character to repeat. If empty, an empty string is returned.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">repeat</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:integer</code>
                           </para>
                        </entry>
                        <entry>
                           <para>The number of repeats. If &lt;= 0, an empty string is returned.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xsl-xtlc_elm2str-1">Function: 
<code>xtlc:elm2str() as xs:string</code>
            </bridgehead>
            <para>Turns an element into a descriptive string (the element with all the attributes (excluding schema references).</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="3">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">elm</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">element()?</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Element to convert</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xsl-xtlc_item2element-2">Function: 
<code>xtlc:item2element() as element()?</code>
            </bridgehead>
            <para>Tries to find the element belonging to a given item:</para>
            <itemizedlist>
               <listitem>
                  <para>When the item is of type xs:string or xs:anyURI, it is assumed to be a document reference. The root element of this is returned.</para>
               </listitem>
               <listitem>
                  <para>When the item is of type document-node(), the root element of this document is returned</para>
               </listitem>
               <listitem>
                  <para>When the item is of type element(), this is returned</para>
               </listitem>
            </itemizedlist>
            <para>You can choose whether to produce an error message or () when the item cannot be resolved.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="3">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">item</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">item()</code>
                           </para>
                        </entry>
                        <entry>
                           <para>The item to work on</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">error-on-non-resolve</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:boolean</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Whether to generate an error when $item could not be resolved. Otherwise, the function will return ().</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xsl-xtlc_items2str-1">Function: 
<code>xtlc:items2str() as xs:string</code>
            </bridgehead>
            <para>Creates a string from a sequence of items. Useful for easy creation of messages consisting of multiple parts and pieces.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="3">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">items</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">item()*</code>
                           </para>
                        </entry>
                        <entry>
                           <para>The message parts to combine</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xsl-xtlc_prefix-to-length-3">Function: 
<code>xtlc:prefix-to-length() as xs:string</code>
            </bridgehead>
            <para>Prefixes a string with a given character so it will get at least a given length.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="3">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">in</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>String to prefix</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">prefix-char</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>String to prefix with. Only first character is used. If empty, a * is used.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">length</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:integer</code>
                           </para>
                        </entry>
                        <entry>
                           <para>The length to reach.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xsl-xtlc_q-1">Function: 
<code>xtlc:q() as xs:string</code>
            </bridgehead>
            <para>Returns the input string quoted ("$in")</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="3">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">in</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string?</code>
                           </para>
                        </entry>
                        <entry>
                           <para>String to convert.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xsl-xtlc_str2bln-2">Function: 
<code>xtlc:str2bln() as xs:boolean</code>
            </bridgehead>
            <para>Safe conversion of a string into a boolean. When $in is empty or not convertible into a boolean, $default is returned.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="3">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">in</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string?</code>
                           </para>
                        </entry>
                        <entry>
                           <para>String to convert.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">default</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:boolean</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Default value to return when $in is empty or cannot be converted.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xsl-xtlc_str2id-2">Function: 
<code>xtlc:str2id() as xs:string</code>
            </bridgehead>
            <para>Turns a string into a valid identifier, adding a prefix. All characters that are not allowed in an identifier are converted into underscores. When the result does not start with a letter or underscore, the extra prefix 'id-' is added.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="3">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">in</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>String to convert.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">prefix</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string?</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Prefix to apply.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xsl-xtlc_str2id-1">Function: 
<code>xtlc:str2id() as xs:string</code>
            </bridgehead>
            <para>Turns a string into a valid identifier. All characters that are not allowed in an identifier are converted into underscores. When the result does not start with a letter or underscore, the extra prefix 'id-' is added.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="3">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">in</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string</code>
                           </para>
                        </entry>
                        <entry>
                           <para>String to convert.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xsl-xtlc_str2int-2">Function: 
<code>xtlc:str2int() as xs:integer</code>
            </bridgehead>
            <para>Safe conversion of a string into an integer. When $in is empty or not convertible into an integer, $default is returned.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="3">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">in</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string?</code>
                           </para>
                        </entry>
                        <entry>
                           <para>String to convert.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">default</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:integer</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Default value to return when $in is empty or cannot be converted.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xsl-xtlc_str2seq-1">Function: 
<code>xtlc:str2seq() as xs:string*</code>
            </bridgehead>
            <para>Converts a string with a list of words into a sequence of words.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="3">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Parameter</entry>
                        <entry>Type</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">in</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">xs:string?</code>
                           </para>
                        </entry>
                        <entry>
                           <para>String to convert.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
         </sect2>
         <sect2>
            <title>XPROC Module</title>
            <bridgehead xml:id="test.mod.xpl">XProc (1.0) library: 
<code>test.mod.xpl</code>
            </bridgehead>
            <para role="keep-with-next">File: 
<code>data/test.mod.xpl</code>
            </para>
            <para>XProc library with generic steps.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="2">
                  <colspec role="code-width-cm:2-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Prefix</entry>
                        <entry>Namespace URI</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">xtlc</code>
                           </para>
                        </entry>
                        <entry>
                           <para>
                              <code>http://www.xtpxlib.nl/ns/common</code>
                           </para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <table role="nonumber">
               <title/>
               <tgroup cols="2">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Step</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xpl-xtlc_copy-directory">xtlc:copy-directory</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Copies a full directory structure.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xpl-xtlc_copy-file">xtlc:copy-file</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Copies a file, if necessary from inside a zip file.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xpl-xtlc_log">xtlc:log</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Writes a message to a log file.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xpl-xtlc_recursive-directory-list">xtlc:recursive-directory-list</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Returns the contents of a directory, going into sub-directories recursively. When the requested directory does not exist, it returns only a c:directory root element with @error="true".</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xpl-xtlc_remove-dir">xtlc:remove-dir</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Removes a full directory (since the normal processing using pxf:delete does not work properly some older Calabash versions... :-( ) When the directory does not exist everything continues without error.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xpl-xtlc_tee">xtlc:tee</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Tees the input to a file and passes it unchanged (like the Unix tee command).</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">
                                 <link linkend="test.mod.xpl-xtlc_zip-directory">xtlc:zip-directory</link>
                              </code>
                           </para>
                        </entry>
                        <entry>
                           <para>Zips a directory and its sub-directories into a single zip file.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xpl-xtlc_copy-directory">Step: 
<code>xtlc:copy-directory</code>
            </bridgehead>
            <para>Copies a full directory structure.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="1cm"/>
                  <colspec colwidth="1.5cm"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Port</entry>
                        <entry>Type</entry>
                        <entry>Primary?</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">source</code>
                           </para>
                        </entry>
                        <entry>in</entry>
                        <entry>yes</entry>
                        <entry>
                           <para>Input, will be passed unchanged.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">result</code>
                           </para>
                        </entry>
                        <entry>out</entry>
                        <entry>yes</entry>
                        <entry>
                           <para>The input unchanged.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="0.7cm"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Option</entry>
                        <entry>Rq?</entry>
                        <entry>Default</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">href-source-dir</code>
                           </para>
                        </entry>
                        <entry>
                           <para>yes</para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>Reference to the directory to copy from.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">href-target-dir</code>
                           </para>
                        </entry>
                        <entry>
                           <para>yes</para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>Reference to the directory to copy to.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xpl-xtlc_copy-file">Step: 
<code>xtlc:copy-file</code>
            </bridgehead>
            <para>Copies a file, if necessary from inside a zip file.</para>
            <para>IMPORTANT: For older versions of Calabash (before January 2017) there is a huge bug in this step: A file inside a zip file must have a straight filename without any characters that normally would have been escaped (like, the most inportant one, spaces).</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="1cm"/>
                  <colspec colwidth="1.5cm"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Port</entry>
                        <entry>Type</entry>
                        <entry>Primary?</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">source</code>
                           </para>
                        </entry>
                        <entry>in</entry>
                        <entry>yes</entry>
                        <entry>
                           <para>Input, will be passed unchanged.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">result</code>
                           </para>
                        </entry>
                        <entry>out</entry>
                        <entry>yes</entry>
                        <entry>
                           <para>The input unchanged.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="0.7cm"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Option</entry>
                        <entry>Rq?</entry>
                        <entry>Default</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">enable</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">true()</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Whether the copying is done at all.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">href-source</code>
                           </para>
                        </entry>
                        <entry>
                           <para>yes</para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>Reference to the source file to copy.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">href-source-zip</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">''</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Document reference to a zip file. When filled, $href-source is assumed to be a path inside this zip.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">href-target</code>
                           </para>
                        </entry>
                        <entry>
                           <para>yes</para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>Reference to the target.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xpl-xtlc_log">Step: 
<code>xtlc:log</code>
            </bridgehead>
            <para>Writes a message to a log file.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="1cm"/>
                  <colspec colwidth="1.5cm"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Port</entry>
                        <entry>Type</entry>
                        <entry>Primary?</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">source</code>
                           </para>
                        </entry>
                        <entry>in</entry>
                        <entry>yes</entry>
                        <entry>
                           <para>Input to the logging, will be passed unchanged to the output</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">result</code>
                           </para>
                        </entry>
                        <entry>out</entry>
                        <entry>yes</entry>
                        <entry>
                           <para>The input unchanged.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="0.7cm"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Option</entry>
                        <entry>Rq?</entry>
                        <entry>Default</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">enable</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">true()</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Whether the logging is done at all.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">href-log</code>
                           </para>
                        </entry>
                        <entry>
                           <para>yes</para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>Name of the file to write the logmessages to (must have a leading file:// specifier!)</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">keep-messages</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">100</code>
                           </para>
                        </entry>
                        <entry>
                           <para>The number of messages to keep in the logfile. If le 0, all messages are kept. Set by default to 100 to prevent overflowing files...</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">message</code>
                           </para>
                        </entry>
                        <entry>
                           <para>yes</para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>The actual log message</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">status</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">'ok'</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Status of the message. Must be ok, warning, error or debug.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xpl-xtlc_recursive-directory-list">Step: 
<code>xtlc:recursive-directory-list</code>
            </bridgehead>
            <para>Returns the contents of a directory, going into sub-directories recursively. When the requested directory does not exist, it returns only a c:directory root element with @error="true".</para>
            <para>Adapated from Norman Walsh example code at https://github.com/xquery/xquerydoc/blob/master/deps/xmlcalabash/recursive-directory-list.xpl</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="1cm"/>
                  <colspec colwidth="1.5cm"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Port</entry>
                        <entry>Type</entry>
                        <entry>Primary?</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">result</code>
                           </para>
                        </entry>
                        <entry>out</entry>
                        <entry>yes</entry>
                        <entry>
                           <para>The resulting directory structure listing in XML format.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="0.7cm"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Option</entry>
                        <entry>Rq?</entry>
                        <entry>Default</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">depth</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">-1</code>
                           </para>
                        </entry>
                        <entry>
                           <para>The sub-directory depth to go. When le 0, all sub-directories are processed.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">exclude-filter</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>An optional regexp exclude filter.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">flatten</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">false()</code>
                           </para>
                        </entry>
                        <entry>
                           <para>When true, the list will be "flattened": Only c:file children within the root c:directory element. All c:file elements have a @name, @href-abs (absolute filename) and @href-rel (relative filename) attribute.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">include-filter</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>An optional regexp include filter.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">path</code>
                           </para>
                        </entry>
                        <entry>
                           <para>yes</para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>The path to get the directory listing from.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xpl-xtlc_remove-dir">Step: 
<code>xtlc:remove-dir</code>
            </bridgehead>
            <para>Removes a full directory (since the normal processing using pxf:delete does not work properly some older Calabash versions... :-( ) When the directory does not exist everything continues without error.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="1cm"/>
                  <colspec colwidth="1.5cm"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Port</entry>
                        <entry>Type</entry>
                        <entry>Primary?</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">source</code>
                           </para>
                        </entry>
                        <entry>in</entry>
                        <entry>yes</entry>
                        <entry>
                           <para>Input, will be passed unchanged.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">result</code>
                           </para>
                        </entry>
                        <entry>out</entry>
                        <entry>yes</entry>
                        <entry>
                           <para>The input unchanged.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="0.7cm"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Option</entry>
                        <entry>Rq?</entry>
                        <entry>Default</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">enable</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">true()</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Whether the removal is done at all.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">href-dir</code>
                           </para>
                        </entry>
                        <entry>
                           <para>yes</para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>Reference to the directory to remove.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xpl-xtlc_tee">Step: 
<code>xtlc:tee</code>
            </bridgehead>
            <para>Tees the input to a file and passes it unchanged (like the Unix tee command).</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="1cm"/>
                  <colspec colwidth="1.5cm"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Port</entry>
                        <entry>Type</entry>
                        <entry>Primary?</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">source</code>
                           </para>
                        </entry>
                        <entry>in</entry>
                        <entry>yes</entry>
                        <entry>
                           <para>Input to the tee.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">result</code>
                           </para>
                        </entry>
                        <entry>out</entry>
                        <entry>yes</entry>
                        <entry>
                           <para>The input unchanged (unless $root-attribute-href was specified).</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="0.7cm"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Option</entry>
                        <entry>Rq?</entry>
                        <entry>Default</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">enable</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">true()</code>
                           </para>
                        </entry>
                        <entry>
                           <para>Whether to actually do the write. When false nothing happens.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">href</code>
                           </para>
                        </entry>
                        <entry>
                           <para>yes</para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>Name of the file to write to (must have a leading file:// specifier!)</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">root-attribute-href</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">''</code>
                           </para>
                        </entry>
                        <entry>
                           <para>If filled, $href is recorded as an attribute with this name on the root element of the original input. Must be a valid attribute name.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <bridgehead xml:id="test.mod.xpl-xtlc_zip-directory">Step: 
<code>xtlc:zip-directory</code>
            </bridgehead>
            <para>Zips a directory and its sub-directories into a single zip file.</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="1cm"/>
                  <colspec colwidth="1.5cm"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Port</entry>
                        <entry>Type</entry>
                        <entry>Primary?</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">result</code>
                           </para>
                        </entry>
                        <entry>out</entry>
                        <entry>yes</entry>
                        <entry>
                           <para>The output of the actual zip step, listing all the files that went in</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="0.7cm"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Option</entry>
                        <entry>Rq?</entry>
                        <entry>Default</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">base-path</code>
                           </para>
                        </entry>
                        <entry>
                           <para>yes</para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>Directory which contents will be stored in the zip (must have a leading file:// specifier!)</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">href-target-zip</code>
                           </para>
                        </entry>
                        <entry>
                           <para>yes</para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>Document reference for the zip file to produce (must have a leading file:// specifier!)</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">include-base</code>
                           </para>
                        </entry>
                        <entry>
                           <para> </para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited">true()</code>
                           </para>
                        </entry>
                        <entry>
                           <para>When true, the last part of $base-path (e.g. a/b/c ==&gt; c) is used as the root directory in the zip file.</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
         </sect2>
         <sect2>
            <title>XPROC Step</title>
            <bridgehead xml:id="test.xpl">XProc (1.0) pipeline: 
<code>test.xpl</code>
            </bridgehead>
            <para role="keep-with-next">File: 
<code>C:/Data/Erik/work/xatapult/xtpxlib-xdoc/test/data/test.xpl</code>
            </para>
            <para>TBD</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="1cm"/>
                  <colspec colwidth="1.5cm"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Port</entry>
                        <entry>Type</entry>
                        <entry>Primary?</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">source</code>
                           </para>
                        </entry>
                        <entry>in</entry>
                        <entry>yes</entry>
                        <entry>
                           <para>The document to generate documentation for, wrapped in an xdoc:transform element.</para>
                        </entry>
                     </row>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">result</code>
                           </para>
                        </entry>
                        <entry>out</entry>
                        <entry>yes</entry>
                        <entry>
                           <para>The resulting docbook 5 output</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <table role="nonumber">
               <title/>
               <tgroup cols="4">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec colwidth="0.7cm"/>
                  <colspec role="code-width-cm:1-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Option</entry>
                        <entry>Rq?</entry>
                        <entry>Default</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">blabla</code>
                           </para>
                        </entry>
                        <entry>
                           <para>yes</para>
                        </entry>
                        <entry>
                           <para>
                              <code role="code-width-limited"/>
                           </para>
                        </entry>
                        <entry>
                           <para>More bla</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
         </sect2>
         <sect2>
            <title>XSD</title>
            <bridgehead xml:id="test.xsd">XML Schema: 
<code>test.xsd</code>
            </bridgehead>
            <para role="keep-with-next">File: 
<code>C:/Data/Erik/work/xatapult/xtpxlib-xdoc/test/data/test.xsd</code>
            </para>
            <para>Target namespace: 
<code>http://www.xtpxlib.nl/ns/xdoc/docgen-intermediate</code>
            </para>
            <para>This schema describes the intermediate format used for docgen</para>
            <table role="nonumber">
               <title/>
               <tgroup cols="2">
                  <colspec role="code-width-cm:1.5-4"/>
                  <colspec/>
                  <thead>
                     <row>
                        <entry>Element</entry>
                        <entry>Description</entry>
                     </row>
                  </thead>
                  <tbody>
                     <row>
                        <entry>
                           <para>
                              <code role="code-width-limited">document</code>
                           </para>
                        </entry>
                        <entry>
                           <para>The description of a (code) document accoriding to the docgen intermediate format</para>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
         </sect2>
         <sect2>
            <title>XML</title>
            <bridgehead xml:id="test.xml">XML document: 
<code>test.xml</code>
            </bridgehead>
            <para>Root element: 
<tag>element-description</tag> (namespace: 
<code>http://www.xtpxlib.nl/ns/xdoc</code>)</para>
            <para>Some utter nonsense</para>
         </sect2>
      </sect1>
   </chapter>
   <!-- ================================================================== -->
   <chapter xml:base="file:/C:/Data/Erik/work/xatapult/xtpxlib-xdoc/test/external-chapter.xml">
      <title>External chapter</title>
      <para>Chapter coming from an included file!</para>
   </chapter>
</book>